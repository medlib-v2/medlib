!function(){var t=function(t,e){var n,i;t&&t.controller&&t.controller.collection&&(n=t.controller.collection.dataitems.length,jQuery.isNumeric(e.index)&&0<=e.index&&e.index<=t.controller.collection.dataitems.length&&(n=Number(e.index)),e.$item&&t.controller.collection.addDataItem(e.$item,t.controller.collection.paths,n),e.$items&&(i=e.$items,jQuery.isArray(e.$items)&&(i=jQuery(e.$items).map(function(){return this.toArray()})),t.controller.collection.addDataItems(i,t.controller.collection.paths,n)),t.observer.trigger(t.observer.events.unknownStatusesChanged,[!1]))},e=function(t,e){var n;t&&t.controller&&t.controller.collection&&(e.$item&&(t.controller.collection.delDataitem(e.$item),e.$item.remove()),e.$items&&(n=e.$items,jQuery.isArray(e.$items)&&(n=jQuery(e.$items).map(function(){return this.toArray()})),t.controller.collection.delDataitems(n),n.remove()),t.observer.trigger(t.observer.events.unknownStatusesChanged,[!1]))},n=function(n,i,r){switch(i){case"add":t(n,r);break;case"del":e(n,r);break;case"getDataItems":if(i=null,n.options&&n.options.dataSource)switch(n.options.dataSource.type){case"html":n.controller&&n.controller.collection&&(i=n.controller.collection.dataitems);break;case"server":n.controller&&n.controller.model&&n.controller.model.dataItem&&(i=n.controller.model.dataItem)}return i}},i=function(t){t.observer.on(t.observer.events.knownStatusesChanged,function(e,n){t.controller.renderStatuses(n)}),t.observer.on(t.observer.events.statusesAppliedToList,function(e,n,i){jQuery.fn.jplist.info(t.options,"panel statusesAppliedToList -> setControlsStatuses: ",i),t.panel.setStatuses(i),jQuery.fn.jplist.dal.services.DeepLinksService.updateUrlPerControls(t.options,t.panel.getDeepLinksURLPerControls())}),t.observer.on(t.observer.events.unknownStatusesChanged,function(e,n){jQuery.fn.jplist.info(t.options,"panel statusesChanged, isDefault: ",n),t.panel.unknownStatusesChanged(n)}),t.$root.find(t.options.iosBtnPath).on("click",function(){jQuery(this).next(t.options.panelPath).toggleClass("jplist-ios-show")}),t.observer.on(t.observer.events.statusChanged,function(e,n){jQuery.fn.jplist.info(t.options,"panel statusChanged: ",n),t.history.addStatus(n),t.panel.mergeStatuses(n)}),t.observer.on(t.observer.events.statusesChangedByDeepLinks,function(e,n,i){t.panel.statusesChangedByDeepLinks(n,i)})},r=function(t,e){var n={observer:null,panel:null,controller:null,$root:e};switch(n.options=jQuery.extend(!0,{debug:!1,command:"init",commandData:{},itemsBox:".list",itemPath:".list-item",panelPath:".panel",noResults:".jplist-no-results",redrawCallback:"",iosBtnPath:".jplist-ios-button",animateToTop:"html, body",animateToTopDuration:0,effect:"",duration:300,fps:24,storage:"",storageName:"jplist",cookiesExpiration:-1,deepLinking:!1,hashStart:"#",delimiter0:":",delimiter1:"|",delimiter2:"~",delimiter3:"!",historyLength:10,dataSource:{type:"html",server:{ajax:{url:"server.php",dataType:"html",type:"POST"},serverOkCallback:null,serverErrorCallback:null},render:null}},t),n.observer=new jQuery.fn.jplist.app.events.PubSub(n.$root,n.options),n.history=new jQuery.fn.jplist.app.History(n.$root,n.options,n.observer),n.panel=new jQuery.fn.jplist.ui.panel.controllers.PanelController(e,n.options,n.history,n.observer),n.options.dataSource=n.options.dataSource||{},n.options.dataSource.type=n.options.dataSource.type||"html",jQuery.fn.jplist.info(n.options,"Data Source Type: ",n.options.dataSource.type),n.options.dataSource.type){case"html":n.controller=new jQuery.fn.jplist.ui.list.controllers.DOMController(n.$root,n.options,n.observer,n.panel,n.history);break;case"server":jQuery.fn.jplist.info(n.options,"Data Source: ",n.options.dataSource),n.controller=new jQuery.fn.jplist.ui.list.controllers.ServerController(n.$root,n.options,n.observer,n.panel,n.history)}return i(n),n.options.deepLinking?(jQuery.fn.jplist.info(n.options,"Deep linking enabled",""),n.panel.setStatusesByDeepLink()):n.panel.setStatusesFromStorage(),n.observer.trigger(n.observer.events.init,[]),jQuery.extend(this,n)};jQuery.fn.jplist=function(t){if(!t.command||"init"===t.command)return this.each(function(){var e,n=jQuery(this);e=new r(t,n),n.data("jplist",e)});var e;return(e=this.data("jplist"))?n(e,t.command,t.commandData):void 0}}(),jQuery.fn.jplist.controlTypes={},jQuery.fn.jplist.itemControlTypes={},jQuery.fn.jplist.settings={},jQuery.fn.jplist.app=jQuery.fn.jplist.app||{},jQuery.fn.jplist.app.services=jQuery.fn.jplist.app.services||{},jQuery.fn.jplist.app.services.DTOMapperService=jQuery.fn.jplist.app.services.DTOMapperService||{},jQuery.fn.jplist.app.dto=jQuery.fn.jplist.app.dto||{},jQuery.fn.jplist.app.events=jQuery.fn.jplist.app.events||{},jQuery.fn.jplist.domain=jQuery.fn.jplist.domain||{},jQuery.fn.jplist.domain.dom=jQuery.fn.jplist.domain.dom||{},jQuery.fn.jplist.domain.dom.models=jQuery.fn.jplist.domain.dom.models||{},jQuery.fn.jplist.domain.dom.collections=jQuery.fn.jplist.domain.dom.collections||{},jQuery.fn.jplist.domain.dom.services=jQuery.fn.jplist.domain.dom.services||{},jQuery.fn.jplist.domain.dom.services.FiltersService=jQuery.fn.jplist.domain.dom.services.FiltersService||{},jQuery.fn.jplist.domain.dom.services.SortService=jQuery.fn.jplist.domain.dom.services.SortService||{},jQuery.fn.jplist.domain.dom.services.pagination=jQuery.fn.jplist.domain.dom.services.pagination||{},jQuery.fn.jplist.domain.server=jQuery.fn.jplist.domain.server||{},jQuery.fn.jplist.domain.server.models=jQuery.fn.jplist.domain.server.models||{},jQuery.fn.jplist.domain.deeplinks=jQuery.fn.jplist.domain.deeplinks||{},jQuery.fn.jplist.domain.deeplinks.services=jQuery.fn.jplist.domain.deeplinks.services||{},jQuery.fn.jplist.dal=jQuery.fn.jplist.dal||{},jQuery.fn.jplist.dal.services=jQuery.fn.jplist.dal.services||{},jQuery.fn.jplist.ui=jQuery.fn.jplist.ui||{},jQuery.fn.jplist.ui.list=jQuery.fn.jplist.ui.list||{},jQuery.fn.jplist.ui.list.models=jQuery.fn.jplist.ui.list.models||{},jQuery.fn.jplist.ui.list.controllers=jQuery.fn.jplist.ui.list.controllers||{},jQuery.fn.jplist.ui.list.collections=jQuery.fn.jplist.ui.list.collections||{},jQuery.fn.jplist.ui.list.views=jQuery.fn.jplist.ui.list.views||{},jQuery.fn.jplist.ui.controls=jQuery.fn.jplist.ui.controls||{},jQuery.fn.jplist.ui.itemControls=jQuery.fn.jplist.ui.itemControls||{},jQuery.fn.jplist.ui.statuses=jQuery.fn.jplist.ui.statuses||{},jQuery.fn.jplist.ui.panel=jQuery.fn.jplist.ui.panel||{},jQuery.fn.jplist.ui.panel.controllers=jQuery.fn.jplist.ui.panel.controllers||{},jQuery.fn.jplist.ui.panel.collections=jQuery.fn.jplist.ui.panel.collections||{},function(){jQuery.fn.jplist.app.events.PubSub=function(t,e){var n={options:e,$root:t,events:{init:"1",unknownStatusesChanged:"2",knownStatusesChanged:"3",statusChanged:"4",statusesChangedByDeepLinks:"5",listSorted:"6",listFiltered:"7",listPaginated:"8",dataItemAdded:"9",dataItemRemoved:"10",collectionReadyEvent:"11",statusesAppliedToList:"12",animationStartEvent:"13",animationStepEvent:"14",animationCompleteEvent:"15"}};return jQuery.extend(!0,jQuery({}),this,n)}}(),function(){jQuery.fn.jplist.app.dto.StatusDTO=function(t,e,n,i,r,o,a,s){this.action=e,this.name=t,this.type=n,this.data=i,this.inStorage=r,this.inAnimation=o,this.isAnimateToTop=a,this.inDeepLinking=s}}(),function(){jQuery.fn.jplist.app.History=function(t,e,n){this.options=e,this.observer=n,this.$root=t,this.statusesQueue=[],this.listStatusesQueue=[]},jQuery.fn.jplist.app.History.prototype.addStatus=function(t){this.statusesQueue.push(t),this.statusesQueue.length>this.options.historyLength&&this.statusesQueue.shift()},jQuery.fn.jplist.app.History.prototype.getLastStatus=function(){var t=null;return 0<this.statusesQueue.length&&(t=this.statusesQueue[this.statusesQueue.length-1]),t},jQuery.fn.jplist.app.History.prototype.popStatus=function(){var t=null;return 0<this.statusesQueue.length&&(t=this.statusesQueue.pop()),t},jQuery.fn.jplist.app.History.prototype.getLastList=function(){var t=null;return 0<this.listStatusesQueue.length&&(t=this.listStatusesQueue[this.listStatusesQueue.length-1]),t},jQuery.fn.jplist.app.History.prototype.addList=function(t){this.listStatusesQueue.push(t),this.listStatusesQueue.length>this.options.historyLength&&this.listStatusesQueue.shift()},jQuery.fn.jplist.app.History.prototype.popList=function(){var t=null;return 0<this.listStatusesQueue.length&&(t=this.listStatusesQueue.pop()),t}}(),function(){var t=function(t,e,n,i){e=[];for(var r,o=0;o<t.statuses.length;o++)r=t.statuses[o],r[n]===i&&(r.initialIndex=o,e.push(r));return e},e=function(t,e){for(var n,i=[],r=0;r<t.statuses.length;r++)n=t.statuses[r],n.action===e&&i.push(n);return i},n=function(e,n,i){var r,o,a,s;if(0===e.statuses.length)e.statuses.push(n);else if(r=t(e,e.statuses,"action",n.action),0===r.length)e.statuses.push(n);else if(a=t(e,r,"name",n.name),0===a.length)e.statuses.push(n);else for(var l=0;l<a.length;l++)r=a[l],r.type===n.type?i?e.statuses[r.initialIndex]=n:r.data&&n.data&&(o=!1,s=[],jQuery.each(r.data,function(t,e){n[t]!==e&&(o=!0,s.push(t+": "+n[t]+" !== "+e))}),o&&jQuery.fn.jplist.warn(e.options,"The statuses have the same name, action and type, but different data values",[r,n,s])):(e.statuses[r.initialIndex]=jQuery.extend(!0,{},r,n),e.statuses[r.initialIndex].type="combined")};jQuery.fn.jplist.app.dto.StatusesDTOCollection=function(t,e,n){this.options=t,this.observer=e,this.statuses=n||[]},jQuery.fn.jplist.app.dto.StatusesDTOCollection.prototype.getStatusesByAction=function(t){return e(this,t)},jQuery.fn.jplist.app.dto.StatusesDTOCollection.prototype.add=function(t,e){return n(this,t,e)},jQuery.fn.jplist.app.dto.StatusesDTOCollection.prototype.get=function(t){var e=null;return 0<=t&&t<this.statuses.length&&(e=this.statuses[t]),e},jQuery.fn.jplist.app.dto.StatusesDTOCollection.prototype.toArray=function(){return this.statuses},jQuery.fn.jplist.app.dto.StatusesDTOCollection.prototype.getSortStatuses=function(){var t,n,i,r=[];if(t=e(this,"sort"),jQuery.isArray(t))for(var o=0;o<t.length;o++)if((n=t[o])&&n.data&&n.data.sortGroup&&jQuery.isArray(n.data.sortGroup)&&0<n.data.sortGroup.length)for(var a=0;a<n.data.sortGroup.length;a++)i=new jQuery.fn.jplist.app.dto.StatusDTO(n.name,n.action,n.type,n.data.sortGroup[a],n.inStorage,n.inAnimation,n.isAnimateToTop,n.inDeepLinking),r.push(i);else r.push(n);return r},jQuery.fn.jplist.app.dto.StatusesDTOCollection.prototype.getFilterStatuses=function(){var t,n,i,r=[];if(t=e(this,"filter"),jQuery.isArray(t))for(var o=0;o<t.length;o++)(n=t[o])&&n.data&&n.data.filterType&&(i=jQuery.fn.jplist.app.services.DTOMapperService.filters[n.data.filterType],jQuery.isFunction(i)&&r.push(n));return r}}(),function(){jQuery.fn.jplist.app.services.DTOMapperService.filters={},jQuery.fn.jplist.app.services.DTOMapperService.filters.TextFilter=function(t,e){var n=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(t.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.textFilter(t.data.value,n,e,t.data.ignore,t.data.mode)},jQuery.fn.jplist.app.services.DTOMapperService.filters.path=function(t,e){var n=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(t.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.pathFilter(n,e)},jQuery.fn.jplist.app.services.DTOMapperService.filters.range=function(t,e){var n=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(t.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.rangeFilter(n,e,t.data.min,t.data.max,t.data.prev,t.data.next)},jQuery.fn.jplist.app.services.DTOMapperService.filters.date=function(t,e){var n=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(t.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.dateFilter(t.data.year,t.data.month,t.data.day,n,e,t.data.format)},jQuery.fn.jplist.app.services.DTOMapperService.filters.dateRange=function(t,e){var n=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(t.data.path,null);return jQuery.fn.jplist.domain.dom.services.FiltersService.dateRangeFilter(n,e,t.data.format,t.data.prev_year,t.data.prev_month,t.data.prev_day,t.data.next_year,t.data.next_month,t.data.next_day)},jQuery.fn.jplist.app.services.DTOMapperService.filters.pathGroup=function(t,e){return jQuery.fn.jplist.domain.dom.services.FiltersService.pathGroupFilter(t.data.pathGroup,e)},jQuery.fn.jplist.app.services.DTOMapperService.filters.textGroup=function(t,e){return jQuery.fn.jplist.domain.dom.services.FiltersService.textGroupFilter(t.data.textGroup,t.data.logic,t.data.path,t.data.ignoreRegex,e,t.data.mode)},jQuery.fn.jplist.app.services.DTOMapperService.filters.textFilterPathGroup=function(t,e){return jQuery.fn.jplist.domain.dom.services.FiltersService.textFilterPathGroup(t.data.textAndPathsGroup,t.data.ignoreRegex,e,t.data.mode)},jQuery.fn.jplist.app.services.DTOMapperService.sort={},jQuery.fn.jplist.app.services.DTOMapperService.sort.text=function(t,e,n){var i=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(t.data.path,t.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.textHelper(e,n,t.data.order,i,t.data.ignore||"")},jQuery.fn.jplist.app.services.DTOMapperService.sort.number=function(t,e,n){var i=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(t.data.path,t.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper(e,n,t.data.order,i)},jQuery.fn.jplist.app.services.DTOMapperService.sort.datetime=function(t,e,n){var i=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(t.data.path,t.data.type);return jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper(e,n,t.data.order,i,t.data.dateTimeFormat||"")}}(),function(){jQuery.fn.jplist.logEnabled=function(t){return t.debug&&window.console&&jQuery.isFunction(window.console.log)},jQuery.fn.jplist.log=function(t,e,n){jQuery.fn.jplist.logEnabled(t)&&window.console.log(e,n)},jQuery.fn.jplist.info=function(t,e,n){jQuery.fn.jplist.logEnabled(t)&&window.console.info(e,n)},jQuery.fn.jplist.error=function(t,e,n){jQuery.fn.jplist.logEnabled(t)&&window.console.error(e,n)},jQuery.fn.jplist.warn=function(t,e,n){jQuery.fn.jplist.logEnabled(t)&&window.console.warn(e,n)}}(),function(){jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel=function(t,e){this.jqPath=t,this.dataType=e},jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel.prototype.isEqual=function(t,e){var n=!1;return e?this.jqPath===t.jqPath&&(n=!0):this.jqPath===t.jqPath&&this.dataType===t.dataType&&(n=!0),n}}(),function(){jQuery.fn.jplist.domain.dom.models.DataItemMemberModel=function(t,e){this.$element=t,this.path=e,this.text=t.text(),this.html=t.html()}}(),function(){jQuery.fn.jplist.domain.dom.models.DataItemModel=function(t,e,n){this.pathitems=[],this.jqElement=this.$item=t,this.index=n,this.html=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(t);var i,r;for(t=[],n=0;n<e.length;n++)i=e[n],r=this.$item.find(i.jqPath),0<r.length&&(i=new jQuery.fn.jplist.domain.dom.models.DataItemMemberModel(r,i),t.push(i));this.pathitems=t},jQuery.fn.jplist.domain.dom.models.DataItemModel.prototype.findPathitem=function(t){for(var e,n=null,i=0;i<this.pathitems.length;i++)if(e=this.pathitems[i],e.path.isEqual(t,!0)){n=e;break}return n}}(),function(){var t=function(t,e){var n,i,r;if(n=new jQuery.fn.jplist.app.dto.StatusesDTOCollection(t.options,t.observer,e).getFilterStatuses(),0<n.length){for(var o=0;o<n.length;o++)i=n[o],r=jQuery.fn.jplist.app.services.DTOMapperService.filters[i.data.filterType],t.dataview=r(i,t.dataview);t.observer.trigger(t.observer.events.listFiltered,[e,t])}},e=function(t,e){var n,i,r=null;if(n=new jQuery.fn.jplist.app.dto.StatusesDTOCollection(t.options,t.observer,e).getStatusesByAction("paging",e),0<n.length){for(var o=0;o<n.length;o++)r=n[o],i=r.data.currentPage||0,r=new jQuery.fn.jplist.domain.dom.services.PaginationService(i,r.data.number,t.dataview.length),n[o].data.paging=r,t.dataview=jQuery.fn.jplist.domain.dom.services.FiltersService.pagerFilter(r,t.dataview);t.observer.trigger(t.observer.events.listPaginated,[e,t])}},n=function(t,e){var n=[],n=new jQuery.fn.jplist.app.dto.StatusesDTOCollection(t.options,t.observer,e).getSortStatuses();0<n.length&&(jQuery.fn.jplist.domain.dom.services.SortService.doubleSort(n,t.dataview),t.observer.trigger(t.observer.events.listSorted,[e,t]))},i=function(t){return jQuery(t.dataview).map(function(t,e){return e.jqElement.get()})},r=function(t){return jQuery(t.dataitems).map(function(t,e){return e.jqElement.get()})},o=function(t){t.dataview=jQuery.merge([],t.dataitems)},a=function(t,e){for(var n,i,r=-1,o=0;o<t.dataitems.length;o++)if(n=t.dataitems[o],n=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(n.jqElement),i=jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml(e),n===i){r=o;break}return r},s=function(t,e){var n;n=a(t,e),-1!==n&&(t.dataitems.splice(n,1),t.observer.trigger(t.observer.events.dataItemRemoved,[e,t.dataitems]))},l=function(t,e){e.each(function(){s(t,jQuery(this))})},u=function(t,e,n,i){e=new jQuery.fn.jplist.domain.dom.models.DataItemModel(e,n,i),t.dataitems.splice(i,0,e),t.observer.trigger(t.observer.events.dataItemAdded,[e,t.dataitems])},p=function(t,e,n,i,r){for(var o;n<e.length;n++)o=e.eq(n),3!==o.get(0).nodeType&&(u(t,o,i,r),n+1<e.length&&0===n%50&&window.setTimeout(function(){p(t,e,n,i,r)},0))};jQuery.fn.jplist.domain.dom.collections.DataItemsCollection=function(t,e,n,i){this.dataitems=[],this.dataview=[],this.options=t,this.observer=e,this.paths=i,0<n.length&&(p(this,n,0,i,0),o(this)),this.observer.trigger(this.observer.events.collectionReadyEvent,[this])},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.applyStatuses=function(i){o(this),n(this,i),t(this,i),e(this,i),this.observer.trigger(this.observer.events.statusesAppliedToList,[this,i])},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.filter=function(e){t(this,e)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.sort=function(t){n(this,t)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.pagination=function(t){e(this,t)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.dataviewToJqueryObject=function(){return i(this)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.dataitemsToJqueryObject=function(){return r(this)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.resetDataview=function(){o(this)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.empty=function(){this.dataitems=[],this.dataview=[]},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.addDataItem=function(t,e,n){u(this,t,e,n)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.addDataItems=function(t,e,n){p(this,t,0,e,n),o(this)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.delDataitem=function(t){s(this,t)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.delDataitems=function(t){l(this,t)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.indexOf=function(t){return a(this,t)},jQuery.fn.jplist.domain.dom.collections.DataItemsCollection.prototype.dataviewToString=function(){var t,e,n="";for(e=0;e<this.dataview.length;e++)t=this.dataview[e],n+=t.content;return n}}(),function(){var t=function(t,e){for(var n,i=!1,r=0;r<t.paths.length;r++)if(n=t.paths[r],n.isEqual(e,!0)){i=!0;break}return i};jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection=function(t,e){this.options=t,this.observer=e,this.paths=[]},jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection.prototype.add=function(e){t(this,e)||this.paths.push(e)},jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection.prototype.addRange=function(e){for(var n=0;n<e.length;n++){var i=e[n];t(this,i)||this.paths.push(i)}},jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection.prototype.isPathInList=function(e){return t(this,e)}}(),function(){jQuery.fn.jplist.domain.dom.services.PaginationService=function(t,e,n){n=Number(n),isNaN(n)&&(n=0),n=this.itemsNumber=n,null===e?e=n:(e=Number(e),isNaN(e)&&(e=n)),this.itemsOnPage=e,e=(e=this.itemsOnPage)?Math.ceil(this.itemsNumber/e):0,e=this.pagesNumber=e,t=Number(t),isNaN(t)&&(t=0),t>e-1&&(t=0),this.currentPage=t,this.start=this.currentPage*this.itemsOnPage,t=this.itemsNumber,e=this.start+this.itemsOnPage,e>t&&(e=t),this.end=e,t=this.currentPage,this.prevPage=0>=t?0:t-1,t=this.currentPage,e=this.pagesNumber,this.nextPage=0===e?0:t>=e-1?e-1:t+1}}(),function(){jQuery.fn.jplist.domain.dom.services.PaginationGoogleService=function(t,e,n){n=Number(n),isNaN(n)&&(n=0),n=this.itemsNumber=n,null===e?e=n:(e=Number(e),isNaN(e)&&(e=n)),this.itemsOnPage=e,e=(e=this.itemsOnPage)?Math.ceil(this.itemsNumber/e):0,e=this.pagesNumber=e,t=Number(t),isNaN(t)&&(t=0),t>e-1&&(t=0),this.currentPage=t,this.start=this.currentPage*this.itemsOnPage,t=this.itemsNumber,e=this.start+this.itemsOnPage,e>t&&(e=t),this.end=e,t=this.currentPage,this.prevPage=0>=t?0:t-1,t=this.currentPage,e=this.pagesNumber,this.nextPage=0===e?0:t>=e-1?e-1:t+1}}(),function(){jQuery.fn.jplist.domain.dom.services.FiltersService.dateFilter=function(t,e,n,i,r,o){for(var a,s,l=[],u=0;u<r.length;u++)a=r[u],(s=a.findPathitem(i))&&(jQuery.isNumeric(t)&&jQuery.isNumeric(e)&&jQuery.isNumeric(n)?(s=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(s.text,o))&&jQuery.isFunction(s.getFullYear)&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.getFullYear()===t&&s.getMonth()===e&&s.getDate()===n&&l.push(a)):l.push(a));return l}}(),function(){jQuery.fn.jplist.domain.dom.services.FiltersService.dateRangeFilter=function(t,e,n,i,r,o,a,s,l){for(var u,p,c,d,h=[],f=0;f<e.length;f++)u=e[f],(p=u.findPathitem(t))&&(c=!jQuery.isNumeric(i)||!jQuery.isNumeric(r)||!jQuery.isNumeric(o),d=!jQuery.isNumeric(a)||!jQuery.isNumeric(s)||!jQuery.isNumeric(l),c||d?h.push(u):(d=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(p.text,n))&&jQuery.isFunction(d.getFullYear)&&(p=new Date(i,r,o),c=new Date(a,s,l),d.setHours(0),d.setMinutes(0),d.setSeconds(0),d>=p&&d<=c&&h.push(u)));return h}}(),function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pagerFilter=function(t,e){return e.slice(t.start,t.end)}}(),function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pathFilter=function(t,e){for(var n,i,r=[],o=0;o<e.length;o++)n=e[o],"default"===t.jqPath?r.push(n):(i=n.findPathitem(t))&&r.push(n);return r}}(),function(){jQuery.fn.jplist.domain.dom.services.FiltersService.pathGroupFilter=function(t,e){var n,i,r=[],o=[];if(0>=t.length)return e;for(i=0;i<t.length;i++)n=t[i],n=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(n,null),r.push(n);for(var a=0;a<e.length;a++){i=e[a];for(var s=0;s<r.length;s++){if(n=r[s],"default"===n.jqPath){o.push(i);break}(n=i.findPathitem(n))&&o.push(i)}}return o}}(),function(){jQuery.fn.jplist.domain.dom.services.FiltersService.rangeFilter=function(t,e,n,i,r,o){n=[];for(var a,s=jQuery.isNumeric(r),l=jQuery.isNumeric(o),u=0;u<e.length;u++)i=e[u],(a=i.findPathitem(t))&&(a=Number(a.text.replace(/[^-0-9\.]+/g,"")),isNaN(a)||(s&&l?a>=r&&a<=o&&n.push(i):s&&!l?a>=r&&n.push(i):!s&&l&&a<=o&&n.push(i)));return n}}(),function(){var t=function(t){var e,n=[];if(t)for(var i=0;i<t.length;i++)(e=jQuery.trim(t[i]))&&n.push(e);return n},e=function(e,n){var i,r=!1;if(i=n.split(" or "),i=t(i),0<i.length)for(var r=-1!==e.indexOf(i[0]),o=1;o<i.length;o++)r=r||-1!==e.indexOf(i[o]);return r},n=function(n,i){var r,o,a=!1;if(r=i.split(" and "),r=t(r),0<r.length){o=r[0];for(var a=-1===o.indexOf(" or ")?-1!==n.indexOf(o):e(n,o),s=1;s<r.length;s++)o=r[s],a=-1===o.indexOf(" or ")?a&&-1!==n.indexOf(o):a&&e(n,o)}return a};jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse=function(i,r){if(r=jQuery.trim(r),-1===r.indexOf(" or ")&&-1===r.indexOf(" and ")&&-1===r.indexOf("not "))return-1!==i.indexOf(r);var o,a,s=!1;if(o=r.split("not "),o=t(o),0<o.length){a=o[0];for(var s=-1===a.indexOf(" and ")?-1===a.indexOf(" or ")?-1===i.indexOf(a):e(i,a):n(i,a),l=1;l<o.length;l++)a=o[l],s=-1===a.indexOf(" and ")?(s=-1===a.indexOf(" or ")?s&&-1===i.indexOf(a):s&&e(i,a))&&e(i,a):s&&n(i,a)}return s}}(),function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textGroupFilter=function(t,e,n,i,r,o){var a,s,l;o=[];var u,p;if(0>=t.length)return r;l=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(n,null);for(var c=0;c<r.length;c++)if(n=r[c],s=n.findPathitem(l),"default"===l.jqPath)o.push(n);else if(s)if(s=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(s.text,i),"or"===e){for(p=0;p<t.length;p++)if(a=t[p],a=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(a,i),jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(s,a)){o.push(n);break}}else{for(u=[],p=0;p<t.length;p++)a=t[p],a=jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(a,i),jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(s,a)&&u.push(a);u.length===t.length&&o.push(n)}return o}}(),function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textFilter=function(t,e,n,i,r){var o,a,s,l=[];r=r||"contains";for(var u=0;u<n.length;u++)if(o=n[u],a=o.findPathitem(e),"default"===e.jqPath)l.push(o);else if(a)switch(a=jQuery.trim(jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(a.text,i)),s=jQuery.trim(jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(t,i)),r){case"startsWith":a.startsWith(s)&&l.push(o);break;case"endsWith":a.endsWith(s)&&l.push(o);break;case"advanced":jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(a,s)&&l.push(o);break;default:-1!==a.indexOf(s)&&l.push(o)}return l}}(),function(){jQuery.fn.jplist.domain.dom.services.FiltersService.textFilterPathGroup=function(t,e,n,i){var r,o;i=[];var a,s,l,u=[];for(l=0;l<t.length;l++)s=t[l],s.selected&&(r=s.path,o=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(r,null),s.pathObj=o,i.push(s));if(0>=i.length)return n;for(r=0;r<n.length;r++){t=n[r],l=!1;for(var p=0;p<i.length;p++)if(s=i[p],o=s.pathObj){if("default"===o.jqPath){l=!0;break}if(o=t.findPathitem(o))switch(o=jQuery.trim(jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(o.text,e)),a=jQuery.trim(jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters(s.text,e)),s.mode){case"startsWith":o.startsWith(a)&&(l=!0);break;case"endsWith":o.endsWith(a)&&(l=!0);break;case"advanced":jQuery.fn.jplist.domain.dom.services.FiltersService.advancedSearchParse(o,a)&&(l=!0);break;default:-1!==o.indexOf(a)&&(l=!0)}}l&&u.push(t)}return u}}(),function(){jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper=function(t,e,n,i,r){return t=t.findPathitem(i),e=e.findPathitem(i),t&&e?(jQuery.trim(r)?(i=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(t.text,r),r=jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime(e.text,r)):(i=new Date(Date.parse(t.text)),r=new Date(Date.parse(e.text))),i==r?0:"asc"==n?i>r?1:-1:i<r?1:-1):0},jQuery.fn.jplist.domain.dom.services.SortService.datetime=function(t,e,n,i){n.sort(function(n,r){return jQuery.fn.jplist.domain.dom.services.SortService.datetimeHelper(n,r,t,e,i)})}}(),function(){jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper=function(t,e,n,i){return t=t.findPathitem(i),e=e.findPathitem(i),t&&e?(i=parseFloat(t.text.replace(/[^-0-9\.]+/g,"")),e=parseFloat(e.text.replace(/[^-0-9\.]+/g,"")),n=i==e?0:"asc"==n?isNaN(i)?1:isNaN(e)?-1:i-e:isNaN(i)?1:isNaN(e)?-1:e-i):0},jQuery.fn.jplist.domain.dom.services.SortService.numbers=function(t,e,n){n.sort(function(n,i){return jQuery.fn.jplist.domain.dom.services.SortService.numbersHelper(n,i,t,e)})}}(),function(){jQuery.fn.jplist.domain.dom.services.SortService.textHelper=function(t,e,n,i,r){return t=t.findPathitem(i),e=e.findPathitem(i),t&&e?(r?(i=new RegExp(r,"ig"),r=t.text.toString().replace(i,"").toLowerCase(),t=e.text.toString().replace(i,"").toLowerCase()):(r=t.text.toString().toLowerCase(),t=e.text.toString().toLowerCase()),r==t?0:"asc"==n?r>t?1:-1:r<t?1:-1):0},jQuery.fn.jplist.domain.dom.services.SortService.text=function(t,e,n,i){n.sort(function(n,r){return jQuery.fn.jplist.domain.dom.services.SortService.textHelper(n,r,t,e,i)})}}(),function(){var t=function(e,n,i,r){var o,a,s=0;if(0<i.length){if(o=i[r],"default"!==o.data.path){if(a=jQuery.fn.jplist.app.services.DTOMapperService.sort[o.data.type],jQuery.isFunction(a)&&(s=a(o,e,n),0===s&&jQuery.isArray(o.data.additionalPaths)&&0<o.data.additionalPaths.length))for(var l=0;l<o.data.additionalPaths.length;l++)s=jQuery.extend(!0,{},o),s.data.path=o.data.additionalPaths[l],s=a(s,e,n)}else o=e.index,a=n.index,s=o===a?0:isNaN(o)?1:isNaN(a)?-1:o-a;0===s&&r+1<i.length&&(s=t(e,n,i,r+1))}return s};jQuery.fn.jplist.domain.dom.services.SortService.doubleSort=function(e,n){var i=!1;return 1===e.length&&e[0]&&e[0].data&&"default"===e[0].data.path&&(i=!0),i||n.sort(function(n,i){return t(n,i,e,0)}),n}}(),function(){var t=function(t,e){var n=null;return"{month}"==t?(e=e.toLowerCase(),"january"!==e&&"jan"!==e&&"jan."!==e||(n=0),"february"!==e&&"feb"!==e&&"feb."!==e||(n=1),"march"!==e&&"mar"!==e&&"mar."!==e||(n=2),"april"!=e&&"apr"!==e&&"apr."!==e||(n=3),"may"===e&&(n=4),"july"!=e&&"jun"!==e&&"jun."!==e||(n=5),"april"!==e&&"jul"!==e&&"jul."!==e||(n=6),"august"!==e&&"aug"!==e&&"aug."!==e||(n=7),"september"!==e&&"sep"!==e&&"sep."!==e||(n=8),"october"!==e&&"oct"!==e&&"oct."!==e||(n=9),"november"!==e&&"nov"!==e&&"nov."!==e||(n=10),"december"!==e&&"dec"!==e&&"dec."!==e||(n=11),null===n&&(n=parseInt(e,10),isNaN(n)||n--)):n=parseInt(e,10),n},e=function(t,e){var n,i=null;return n=t.replace(/{year}|{month}|{day}|{hour}|{min}|{sec}/g,".*"),(n=new RegExp(n,"g").exec(e))&&1<n.length&&(i=n[1]),i};jQuery.fn.jplist.domain.dom.services.HelperService={},jQuery.fn.jplist.domain.dom.services.HelperService.getOuterHtml=function(t){var e,n,i="";if(t&&t[0]&&t[0].tagName){e=t[0].attributes,n=t.html(),t=t[0].tagName.toString().toLowerCase();for(var i=i+("<"+t),r=0;r<e.length;r++)e[r].nodeValue&&(i+=" "+e[r].nodeName+"=",i+='"'+e[r].nodeValue+'"');i=i+">"+n,i+="</"+t+">"}return i},jQuery.fn.jplist.domain.dom.services.HelperService.removeCharacters=function(t,e){return t?t.replace(new RegExp(e,"ig"),"").toLowerCase():""},jQuery.fn.jplist.domain.dom.services.HelperService.formatDateTime=function(n,i){var r,o,a,s,l,u;return i=i.replace(/\./g,"\\."),i=i.replace(/\(/g,"\\("),i=i.replace(/\)/g,"\\)"),i=i.replace(/\[/g,"\\["),i=i.replace(/\]/g,"\\]"),r=i.replace("{year}","(.*)"),(o=e(r,n))&&(o=t("{year}",o)),r=i.replace("{day}","(.*)"),(s=e(r,n))&&(s=t("{day}",s)),r=i.replace("{month}","(.*)"),(a=e(r,n))&&(a=t("{month}",a)),r=i.replace("{hour}","(.*)"),(l=e(r,n))&&(l=t("{hour}",l)),r=i.replace("{min}","(.*)"),(u=e(r,n))&&(u=t("{min}",u)),r=i.replace("{sec}","(.*)"),(r=e(r,n))&&(r=t("{sec}",r)),o&&!isNaN(o)||(o=1900),a&&!isNaN(a)||(a=0),s&&!isNaN(s)||(s=1),l&&!isNaN(l)||(l=0),u&&!isNaN(u)||(u=0),r&&!isNaN(r)||(r=0),new Date(o,a,s,l,u,r)}}(),function(){jQuery.fn.jplist.dal.services.DeepLinksService={},jQuery.fn.jplist.dal.services.DeepLinksService.getUrlParams=function(t){var e,n,i=[],r=[],i=window.decodeURIComponent(jQuery.trim(window.location.hash.replace(t.hashStart,"")));if(t.deepLinking&&""!==jQuery.trim(i))for(var i=i.split(t.delimiter1),o=0;o<i.length;o++)e=i[o],n=e.split("="),2===n.length&&(e=n[0],n=n[1],e=e.split(t.delimiter0),2===e.length&&(e={controlName:e[0],propName:e[1],propValue:n},r.push(e)));return r},jQuery.fn.jplist.dal.services.DeepLinksService.updateUrlPerControls=function(t,e){if(t.deepLinking){jQuery.fn.jplist.info(t,"Change Deep links URL according to statuses: ",e);var n,i=jQuery.trim(e.replace(t.hashStart,"")),i=""===i?t.hashStart:t.hashStart+i;window.location.hash!==i&&(n=window.location.href.indexOf(t.hashStart),i=-1==n?window.location.href+i:window.location.href.substring(0,n)+i,"replaceState"in window.history?window.history.replaceState("","",i):window.location.replace(i));
}}}(),function(){jQuery.fn.jplist.domain.server.models.DataItemModel=function(t,e,n){switch(this.content="",this.dataType=e,this.count=0,this.responseText=n,this.dataType||(this.dataType="html"),this.dataType){case"html":e=jQuery(t),0<e.length&&(this.content=e.html(),this.count=Number(e.attr("data-count"))||0);break;case"json":this.content=t.data,this.count=t.count;break;case"xml":e=jQuery(t).find("root"),this.count=Number(e.attr("count"))||0,this.content=0<this.count?t:""}}}(),function(){jQuery.fn.jplist.animation={},jQuery.fn.jplist.animation.drawItems=function(t,e,n,i,r,o,a,s){var l,u,p;(r=jQuery.fn.jplist.animation[r])?(l=r.before,p=r.effect,u=r.after,jQuery.isFunction(l)&&l(t,e,n,i),jQuery.isFunction(p)&&s.on(s.events.animationStepEvent,function(r,o,a){p(t,e,n,i,o)}),s.on(s.events.animationCompleteEvent,function(r){jQuery.isFunction(u)&&u(t,e,n,i),s.off(s.events.animationStepEvent),s.off(s.events.animationCompleteEvent),jQuery.isFunction(a)&&a()}),o.play(t.duration)):jQuery.isFunction(a)&&a()}}(),function(){var t=function(t){t.handler&&window.clearTimeout(t.handler),t.progress=0,t.start=null,t.observer.trigger(t.observer.events.animationCompleteEvent,[])},e=function(n,i){jQuery.isNumeric(i)&&0<i?n.handler=window.setTimeout(function(){var r;null===n.start&&(n.observer.trigger(n.observer.events.animationStartEvent,[]),n.start=(new Date).getTime()),r=(new Date).getTime()-n.start,n.progress=r/i,1<=n.progress&&(n.progress=1),n.observer.trigger(n.observer.events.animationStepEvent,[100*n.progress,n]),1>n.progress?e(n,i):t(n)},n.delay):t(n)};jQuery.fn.jplist.animation.Timeline=function(t,e,n){this.$scene=t,this.options=e,this.observer=n,this.start=null,this.progress=0,this.handler=this.delay=null,this.delay=1e3/this.options.fps},jQuery.fn.jplist.animation.Timeline.prototype.play=function(t){e(this,t)},jQuery.fn.jplist.animation.Timeline.prototype.stop=function(){t(this)}}(),function(){jQuery.fn.jplist.animation.fade={},jQuery.fn.jplist.animation.fade.before=function(t,e,n,i){},jQuery.fn.jplist.animation.fade.effect=function(t,e,n,i,r){e.find(t.itemPath).css({opacity:(100-r)/100})},jQuery.fn.jplist.animation.fade.after=function(t,e,n,i){e.empty(),i.css({opacity:1}),e.append(i)}}(),function(){var t=function(t,e,n){var i,r=e.dataitemsToJqueryObject(),o=e.dataviewToJqueryObject(),a=!1,s=jQuery.extend(!0,{},t.options,{duration:0});0>=r.length||0>=o.length?(t.$noResults.removeClass("jplist-hidden"),t.$itemsBox.addClass("jplist-hidden"),jQuery.isFunction(t.options.redrawCallback)&&t.options.redrawCallback(e,o,n)):(t.$noResults.addClass("jplist-hidden"),t.$itemsBox.removeClass("jplist-hidden"),t.options.effect?(t.history&&(i=t.history.getLastStatus())&&!i.inAnimation&&(a=!0),a=a?s:t.options,jQuery.fn.jplist.animation.drawItems(a,t.$itemsBox,r,o,t.options.effect,t.timeline,function(){jQuery.isFunction(t.options.redrawCallback)&&t.options.redrawCallback(e,o,n)},t.observer)):(r.detach(),t.$itemsBox.append(o),jQuery.isFunction(t.options.redrawCallback)&&t.options.redrawCallback(e,o,n)))};jQuery.fn.jplist.ui.list.views.DOMView=function(t,e,n,i){this.options=e,this.$root=t,this.observer=n,this.history=i,this.timelineZero=this.timeline=null,this.$itemsBox=t.find(e.itemsBox).eq(0),this.$noResults=t.find(e.noResults),this.options.effect&&(this.timeline=new jQuery.fn.jplist.animation.Timeline(this.$root,this.options,this.observer))},jQuery.fn.jplist.ui.list.views.DOMView.prototype.render=function(e,n){t(this,e,n)}}(),function(){jQuery.fn.jplist.ui.list.controllers.DOMController=function(t,e,n,i,r){this.options=e,this.observer=n,this.$root=t,this.history=r,this.storage=new jQuery.fn.jplist.dal.Storage(t,e,n),this.listView=this.itemControls=this.collection=null,this.itemControls=new jQuery.fn.jplist.ui.list.collections.ItemControlCollection(e,n,r,t),this.listView=new jQuery.fn.jplist.ui.list.views.DOMView(t,e,n,r),t=i.paths,e=this.$root.find(this.options.itemsBox).eq(0).find(this.options.itemPath),this.collection=new jQuery.fn.jplist.domain.dom.collections.DataItemsCollection(this.options,this.observer,e,t)},jQuery.fn.jplist.ui.list.controllers.DOMController.prototype.renderStatuses=function(t){this.storage.save(t),this.collection&&(this.collection.applyStatuses(t),this.listView.render(this.collection,t))}}(),function(){var t=function(t,e){var n="html";t.options.dataSource&&t.options.dataSource.server&&t.options.dataSource.server.ajax&&((n=t.options.dataSource.server.ajax.dataType)||(n="html")),t.storage.save(e),jQuery.fn.jplist.dal.services.URIService.get(e,t.options,function(e,i,r,o){e=new jQuery.fn.jplist.domain.server.models.DataItemModel(e,n,o.responseText);var a;for(r=new jQuery.fn.jplist.app.dto.StatusesDTOCollection(t.options,t.observer,i).getStatusesByAction("paging",i),o=0;o<r.length;o++)a=r[o],a.data.currentPage||(a.data.currentPage=0),a=new jQuery.fn.jplist.domain.dom.services.PaginationService(a.data.currentPage,a.data.number,e.count),r[o].data.paging=a;t.observer.trigger(t.observer.events.statusesAppliedToList,[null,i]),t.model.set(e,i)},function(t){},function(t){})};jQuery.fn.jplist.ui.list.controllers.ServerController=function(t,e,n,i,r){this.options=e,this.observer=n,this.history=r,this.storage=new jQuery.fn.jplist.dal.Storage(t,e,n),i=jQuery({}),i.$root=null,i.events={modelChanged:"modelChanged"},this.scopeObserver=i,this.$root=t,this.model=this.view=null,this.model=new jQuery.fn.jplist.ui.list.models.DataItemModel(null,null,this.scopeObserver),this.view=new jQuery.fn.jplist.ui.list.views.ServerView(t,e,n,this.scopeObserver,this.model,this.history)},jQuery.fn.jplist.ui.list.controllers.ServerController.prototype.renderStatuses=function(e){t(this,e)}}(),function(){var t=function(t,e,n){var i,r=!1,o=jQuery.extend(!0,{},t.options,{duration:0});e.content&&""!==jQuery.trim(e.content)?(t.$noResults.addClass("jplist-hidden"),t.$itemsBox.removeClass("jplist-hidden")):(t.$noResults.removeClass("jplist-hidden"),t.$itemsBox.addClass("jplist-hidden")),t.options.effect?(t.history&&(i=t.history.getLastStatus())&&!i.inAnimation&&(r=!0),r=r?o:t.options,jQuery.fn.jplist.animation.drawItems(r,t.$itemsBox,null,jQuery(e.content),t.options.effect,t.timeline,function(){jQuery.isFunction(t.options.redrawCallback)&&t.options.redrawCallback(e.content,n)},t.observer)):(t.options.dataSource&&jQuery.isFunction(t.options.dataSource.render)?t.options.dataSource.render(e,n):t.$itemsBox.html(e.content),jQuery.isFunction(t.options.redrawCallback)&&t.options.redrawCallback(e.content,n))},e=function(e){e.scopeObserver.on(e.scopeObserver.events.modelChanged,function(n,i,r){e.$preloader&&e.$preloader.addClass("jplist-hidden"),e.$itemsBox.removeClass("jplist-hidden"),t(e,i,r)})};jQuery.fn.jplist.ui.list.views.ServerView=function(t,n,i,r,o,a){this.options=n,this.$root=t,this.observer=i,this.scopeObserver=r,this.model=o,this.history=a,this.$itemsBox=t.find(n.itemsBox).eq(0),this.$noResults=t.find(n.noResults),this.timeline=this.$preloader=null,this.options.effect&&(this.timeline=new jQuery.fn.jplist.animation.Timeline(this.$root,this.options,this.observer)),e(this)}}(),function(){jQuery.fn.jplist.ui.list.models.DataItemModel=function(t,e,n){this.dataItem=t,this.statuses=e,this.scopeObserver=n},jQuery.fn.jplist.ui.list.models.DataItemModel.prototype.set=function(t,e){this.dataItem=t,this.statuses=e,this.scopeObserver.trigger(this.scopeObserver.events.modelChanged,[t,e])}}(),function(){jQuery.fn.jplist.ui.list.ItemControlFactory=function(t,e,n,i){this.options=t,this.observer=e,this.history=n,this.$root=i},jQuery.fn.jplist.ui.list.ItemControlFactory.prototype.create=function(t){var e,n,i=null,r=null,o=null;return e=t.attr("data-control-type"),n={},jQuery.fn.jplist.itemControlTypes[e]&&(n=jQuery.extend(!0,{},n,jQuery.fn.jplist.itemControlTypes[e])),this.options.itemControlTypes&&this.options.itemControlTypes[e]&&(n=jQuery.extend(!0,{},n,this.options.itemControlTypes[e])),n&&(n.className&&(r=jQuery.fn.jplist.ui.itemControls[n.className]),n.options&&(o=n.options)),e={type:e,itemControlType:n,controlTypeClass:r,controlOptions:o},e=jQuery.extend(!0,e,{$control:t,history:this.history,observer:this.observer,options:this.options,$root:this.$root}),e.controlTypeClass&&jQuery.isFunction(e.controlTypeClass)&&(i=new e.controlTypeClass(e)),i}}(),function(){var t=function(t){var e;t.options&&t.options.itemsBox&&(e=t.$root.find(t.options.itemsBox),0<e.length&&e.find("[data-control-type]").each(function(){var e=jQuery(this);(e=t.controlFactory.create(e))&&t.controls.push(e)}))};jQuery.fn.jplist.ui.list.collections.ItemControlCollection=function(e,n,i,r){this.options=e,this.observer=n,this.history=i,this.$root=r,this.controls=[],this.controlFactory=null,this.controlFactory=new jQuery.fn.jplist.ui.list.ItemControlFactory(e,n,i,r),t(this)}}(),function(){var t=function(t){var e,n=jQuery(window).scrollTop();e=Number(t.data("top")),isNaN(e)||(n>e?t.addClass("jplist-sticky"):t.removeClass("jplist-sticky"))},e=function(e,n){n.each(function(){var e=jQuery(this),n=e.offset().top;e.data("top",n),t(e)}),jQuery(window).scroll(function(){n.each(function(){t(jQuery(this))})})},n=function(t){var e=[];if("cookies"===t.options.storage||"localstorage"===t.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported())if(jQuery.fn.jplist.info(t.options,"Storage enabled: ",t.options.storage),"cookies"===t.options.storage&&(e=jQuery.fn.jplist.dal.services.CookiesService.restoreCookies(t.options.storageName)),"localstorage"===t.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()&&(e=jQuery.fn.jplist.dal.services.LocalStorageService.restore(t.options.storageName)),0<e.length){for(var n=[],r=0;r<e.length;r++)e[r].inStorage&&n.push(e[r]);0<n.length&&(t.controls.setStatuses(n,!0),t.observer.trigger(t.observer.events.knownStatusesChanged,[n]))}else i(t,!0);else i(t,!0)},i=function(t,e){var n;n=t.controls.getStatuses(e),t.observer.trigger(t.observer.events.knownStatusesChanged,[n])},r=function(t){var e;e=[],e=t.$root.find(t.options.panelPath).find("[data-control-type]"),t.controls=new jQuery.fn.jplist.ui.panel.collections.ControlsCollection(t.options,t.observer,t.history,t.$root,e),t.paths=t.controls.getPaths(),jQuery.fn.jplist.logEnabled(t.options)&&(e=jQuery.map(t.paths,function(t,e){return t&&t.jqPath?t.jqPath:""}),jQuery.fn.jplist.info(t.options,"Panel paths: ",e.join(", ")))};jQuery.fn.jplist.ui.panel.controllers.PanelController=function(t,n,i,o){this.options=n,this.$root=t,this.history=i,this.observer=o,this.controls=this.paths=this.$sticky=null,r(this),this.$sticky=t.find('[data-sticky="true"]'),0<this.$sticky.length&&e(this,this.$sticky)},jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.setStatusesByDeepLink=function(){var t;t=jQuery.fn.jplist.dal.services.DeepLinksService.getUrlParams(this.options),jQuery.fn.jplist.info(this.options,"Set statuses by deep link: ",t),0>=t.length?n(this):this.controls.setDeepLinks(t)},jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.setStatusesFromStorage=function(){n(this)},jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.setStatuses=function(t){this.controls.setStatuses(t,!1),this.history.addList(t)},jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.unknownStatusesChanged=function(t){i(this,t)},jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.mergeStatuses=function(t){if(t.isAnimateToTop){var e;e=jQuery(this.options.animateToTop).offset().top,jQuery("html, body").animate({scrollTop:e},this.options.animateToTopDuration)}t=this.controls.merge(!1,t),this.observer.trigger(this.observer.events.knownStatusesChanged,[t])},jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.statusesChangedByDeepLinks=function(t,e){this.controls&&this.controls.statusesChangedByDeepLinks(e)},jQuery.fn.jplist.ui.panel.controllers.PanelController.prototype.getDeepLinksURLPerControls=function(){return this.controls.getDeepLinksUrl()}}(),function(){jQuery.fn.jplist.ui.panel.ControlFactory=function(t,e,n,i){this.options=t,this.observer=e,this.history=n,this.$root=i},jQuery.fn.jplist.ui.panel.ControlFactory.prototype.create=function(t,e){var n,i,r,o,a,s,l,u,p=null;return n=t.attr("data-control-type"),a=o=r=!0,s=!1,u=l=null,(i=t.attr("data-control-deep-link"))&&"false"===i.toString()&&(r=!1),(i=t.attr("data-control-storage"))&&"false"===i.toString()&&(o=!1),(i=t.attr("data-control-animation"))&&"false"===i.toString()&&(a=!1),(i=t.attr("data-control-animate-to-top"))&&"true"===i.toString()&&(s=!0),i={},jQuery.fn.jplist.controlTypes[n]&&(i=jQuery.extend(!0,{},i,jQuery.fn.jplist.controlTypes[n])),this.options.controlTypes&&this.options.controlTypes[n]&&(i=jQuery.extend(!0,{},i,this.options.controlTypes[n])),i&&(i.className&&(l=jQuery.fn.jplist.ui.controls[i.className]),i.options&&(u=i.options)),n={type:n,action:t.attr("data-control-action"),name:t.attr("data-control-name"),inDeepLinking:r,inStorage:o,inAnimation:a,isAnimateToTop:s,controlType:i,controlTypeClass:l,controlOptions:u,paths:[]},n=jQuery.extend(!0,n,{$control:t,history:this.history,observer:this.observer,options:this.options,$root:this.$root,controlsCollection:e}),n.controlTypeClass&&jQuery.isFunction(n.controlTypeClass)&&(p=new n.controlTypeClass(n)),p},jQuery.fn.jplist.ui.panel.ControlFactory.prototype.getStatus=function(t){return null},jQuery.fn.jplist.ui.panel.ControlFactory.prototype.setStatus=function(t,e){},jQuery.fn.jplist.ui.panel.ControlFactory.prototype.getDeepLink=function(){return""},jQuery.fn.jplist.ui.panel.ControlFactory.prototype.getStatusByDeepLink=function(t,e){return null},jQuery.fn.jplist.ui.panel.ControlFactory.prototype.getPaths=function(t){return[]},jQuery.fn.jplist.ui.panel.ControlFactory.prototype.setByDeepLink=function(t){}}(),function(){var t=function(t,e){var n,i;n=new jQuery.fn.jplist.app.dto.StatusesDTOCollection(t.options,t.observer,[]);for(var r=0;r<t.controls.length;r++)i=t.controls[r],jQuery.isFunction(i.getStatus)&&(i=i.getStatus(e))&&n.add(i,!1);return jQuery.fn.jplist.info(t.options,"getStatuses: ",n),n.toArray()},e=function(t,e){var n=t.controlFactory.create(e,t);n&&t.controls.push(n)};jQuery.fn.jplist.ui.panel.collections.ControlsCollection=function(t,n,i,r,o){for(this.options=t,this.observer=n,this.history=i,this.$root=r,this.controlFactory=null,this.$controls=o,this.controls=[],this.controlFactory=new jQuery.fn.jplist.ui.panel.ControlFactory(t,n,i,r),n=0;n<this.$controls.length;n++)t=this.$controls.eq(n),e(this,t)},jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.merge=function(e,n){var i,r;r=new jQuery.fn.jplist.app.dto.StatusesDTOCollection(this.options,this.observer,[]),i=t(this,e);for(var o=0;o<i.length;o++)r.add(i[o],!1);return r.add(n,!0),r.toArray()},jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.statusesChangedByDeepLinks=function(t){for(var e,n=0;n<this.controls.length;n++)e=this.controls[n],jQuery.isFunction(e.setByDeepLink)&&e.setByDeepLink(t)},jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.setDeepLinks=function(t){var e,n,i,r,o=new jQuery.fn.jplist.app.dto.StatusesDTOCollection(this.options,this.observer,[]);for(r=0;r<t.length;r++){e=t[r],n=e.controlName;var a=[];i=void 0;for(var s=0;s<this.controls.length;s++)i=this.controls[s],i.name===n&&a.push(i);for(n=a,a=0;a<n.length;a++)i=n[a],jQuery.isFunction(i.getStatusByDeepLink)&&(i=i.getStatusByDeepLink(e.propName,e.propValue))&&o.add(i,!1)}this.observer.trigger(this.observer.events.knownStatusesChanged,[o.toArray()]),this.observer.trigger(this.observer.events.statusesChangedByDeepLinks,[,o.toArray(),t])},jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.setStatuses=function(t,e){for(var n,i,r=0;r<t.length;r++){n=t[r],i=n.name;for(var o=n.action,a=[],s=void 0,l=0;l<this.controls.length;l++)s=this.controls[l],s.name===i&&s.action===o&&a.push(s);for(i=a,o=0;o<i.length;o++)jQuery.isFunction(i[o].setStatus)&&i[o].setStatus(n,e)}},jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.getDeepLinksUrl=function(){var t;t="";var e,n=[],i="";e=this.controls;for(var r=0;r<e.length;r++)t=e[r],jQuery.isFunction(t.getDeepLink)&&(i=jQuery.trim(t.getDeepLink())),""!==i&&-1===jQuery.inArray(i,n)&&n.push(i);return t=n.join(this.options.delimiter1)},jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.getStatuses=function(e){return t(this,e)},jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.getPaths=function(){var t,e,n=[];e=new jQuery.fn.jplist.domain.dom.collections.DataItemMemberPathCollection(this.options,this.observer);for(var i=0;i<this.controls.length;i++)t=this.controls[i],jQuery.isFunction(t.getPaths)&&(t.getPaths(n),e.addRange(n));return e.paths},jQuery.fn.jplist.ui.panel.collections.ControlsCollection.prototype.add=function(t){e(this,t)}}(),function(){var t=function(t){var e=[];t=jQuery(),jQuery(document).find("[data-control-type]").each(function(){var t=jQuery(this),n=t.attr("data-control-type");n&&jQuery.fn.jplist.controlTypes[n]&&jQuery.fn.jplist.controlTypes[n].dropdown&&e.push(t)});for(var n=0;n<e.length;n++)t=t.add(e[n]);return t},e=function(e){var n=t(e);0<n.length&&(jQuery(document).click(function(){n.find("ul").hide()}),jQuery(document).off(e.DROPDOWN_CLOSE_EVENT).on(e.DROPDOWN_CLOSE_EVENT,function(t,e){n.each(function(){jQuery(this).is(e)||jQuery(this).find("ul").hide()})})),e.$control.find(".jplist-dd-panel").off().on("click",function(t){var n;t.stopPropagation(),t=jQuery(this).parents("[data-control-type]"),n=t.find("ul"),jQuery(document).trigger(e.DROPDOWN_CLOSE_EVENT,[t]),n.toggle(0)})},n=function(t,n,i,r){return t={options:t,observer:n,history:i,$control:r,DROPDOWN_CLOSE_EVENT:"dropdown-close-event"},n=t.$control.find("li:eq(0)"),n.addClass("active"),n=n.find("span"),0>=t.$control.find(".jplist-dd-panel").length&&t.$control.prepend('<div class="jplist-dd-panel">'+n.text()+"</div>"),e(t),jQuery.extend(this,t)};jQuery.fn.jplist.ui.panel.DropdownControl=function(t,e,i,r){return new n(t,e,i,r)}}(),function(){jQuery.fn.jplist.dal.Storage=function(t,e,n){this.options=e,this.observer=n,this.$root=t,this.isStorageEnabled=!1,this.isStorageEnabled="cookies"===this.options.storage||"localstorage"===this.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()},jQuery.fn.jplist.dal.Storage.prototype.save=function(t){var e,n=[];if(t&&this.isStorageEnabled){for(var i=0;i<t.length;i++)e=t[i],e.inStorage&&n.push(e);"cookies"===this.options.storage&&jQuery.fn.jplist.dal.services.CookiesService.saveCookies(n,this.options.storageName,this.options.cookiesExpiration),"localstorage"===this.options.storage&&jQuery.fn.jplist.dal.services.LocalStorageService.supported()&&jQuery.fn.jplist.dal.services.LocalStorageService.save(n,this.options.storageName)}}}(),function(){jQuery.fn.jplist.dal.services.CookiesService={},jQuery.fn.jplist.dal.services.CookiesService.setCookie=function(t,e,n){e=escape(e);var i=new Date;n=Number(n),-1==n||isNaN(n)?document.cookie=t+"="+e+";path=/;":(i.setMinutes(i.getMinutes()+n),document.cookie=t+"="+e+";path=/; expires="+i.toUTCString())},jQuery.fn.jplist.dal.services.CookiesService.getCookie=function(t){var e,n,i,r=null;i=document.cookie.split(";");for(var o=0;o<i.length;o++)if(e=i[o].substr(0,i[o].indexOf("=")),n=i[o].substr(i[o].indexOf("=")+1),e=e.replace(/^\s+|\s+$/g,""),e==t){r=unescape(n);break}return r},jQuery.fn.jplist.dal.services.CookiesService.saveCookies=function(t,e,n){t=JSON.stringify(t),jQuery.fn.jplist.dal.services.CookiesService.setCookie(e,t,n)},jQuery.fn.jplist.dal.services.CookiesService.restoreCookies=function(t){var e=[];return(t=jQuery.fn.jplist.dal.services.CookiesService.getCookie(t))&&(e=jQuery.parseJSON(t)),e||(e=[]),e}}(),function(){jQuery.fn.jplist.dal.services.LocalStorageService={},jQuery.fn.jplist.dal.services.LocalStorageService.supported=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}},jQuery.fn.jplist.dal.services.LocalStorageService.save=function(t,e){var n;n=JSON.stringify(t),window.localStorage[e]=n},jQuery.fn.jplist.dal.services.LocalStorageService.restore=function(t){var e=[];return(t=window.localStorage[t])&&(e=jQuery.parseJSON(t)),e||(e=[]),e}}(),function(){jQuery.fn.jplist.dal.services.URIService={},jQuery.fn.jplist.dal.services.URIService.get=function(t,e,n,i,r){var o=e.dataSource.server;o.ajax.data||(o.ajax.data={}),o.ajax.data.statuses=encodeURIComponent(JSON.stringify(t,function(t,e){return e&&e.nodeType?null:e})),jQuery.ajax(o.ajax).done(function(e,i,r){jQuery.isFunction(n)&&n(e,t,i,r),jQuery.isFunction(o.serverOkCallback)&&o.serverOkCallback(e,t,i,r)}).fail(function(){jQuery.isFunction(i)&&i(t),jQuery.isFunction(o.serverErrorCallback)&&o.serverErrorCallback(t)}).always(function(){jQuery.isFunction(r)&&r(t)})}}(),function(){var t=function(t){return jQuery.extend(this,t)};t.prototype.getStatus=function(t){return t=new jQuery.fn.jplist.ui.controls.DefaultSortDTO(this.$control.attr("data-path"),this.$control.attr("data-type"),this.$control.attr("data-order"),this.$control.attr("data-datetime-format"),this.$control.attr("data-ignore")),new jQuery.fn.jplist.app.dto.StatusDTO(this.name,this.action,this.type,t,this.inStorage,this.inAnimation,this.isAnimateToTop,this.inDeepLinking)},t.prototype.getPaths=function(t){var e,n;e=this.$control.attr("data-path"),n=this.$control.attr("data-type"),e&&(e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(e,n),t.push(e))},jQuery.fn.jplist.ui.controls.DefaultSort=function(e){return new t(e)},jQuery.fn.jplist.controlTypes["default-sort"]={className:"DefaultSort",options:{}}}(),function(){jQuery.fn.jplist.ui.controls.DefaultSortDTO=function(t,e,n,i,r){return{path:t,type:e,order:n,dateTimeFormat:i,ignore:r}}}(),function(){var t=function(t){var e=[];return jQuery.each(t.get(0).attributes,function(t,n){-1!==n.name.indexOf("data-path-")&&e.push(n.value)}),e},e=function(e,n){var i;i=null;var r="",o="";return n?(i=e.$control.find('option[data-default="true"]').eq(0),0>=i.length&&(i=e.$control.find("option").eq(0))):i=e.$control.find("option:selected"),r=e.$control.attr("data-datetime-format")||"",o=e.$control.attr("data-ignore")||"",r=new jQuery.fn.jplist.ui.controls.DropdownSortDTO(i.attr("data-path"),i.attr("data-type"),i.attr("data-order"),r,o),i=new jQuery.fn.jplist.app.dto.StatusDTO(e.name,e.action,e.type,r,e.inStorage,e.inAnimation,e.isAnimateToTop,e.inDeepLinking,t(i))},n=function(t,e){var n,i,r;t.$control.find("option").each(function(){n=jQuery(this).attr("data-path"),i=jQuery(this).attr("data-type"),n&&(r=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(n,i),e.push(r))})},i=function(n){n.$control.on("change",function(){var i,r,o;i=e(n,!1),r=jQuery(this).find("option:selected"),(o=r.attr("data-path"))&&(i.data.path=o,i.data.type=r.attr("data-type"),i.data.order=r.attr("data-order"),i.data.additionalPaths=t(r)),n.observer.trigger(n.observer.events.statusChanged,[i])})},r=function(t){return i(t),jQuery.extend(this,t)};r.prototype.getStatus=function(t){return e(this,t)},r.prototype.getDeepLink=function(){var t,n="";return this.inDeepLinking&&(t=e(this,!1),t.data&&t.data.path&&t.data.type&&t.data.order&&(n=this.name+this.options.delimiter0+"path"+this.options.delimiter2+"type"+this.options.delimiter2+"order="+t.data.path+this.options.delimiter2+t.data.type+this.options.delimiter2+t.data.order)),n},r.prototype.getStatusByDeepLink=function(t,n){var i,r=null;return this.inDeepLinking&&(r=e(this,!0),r.data&&t==="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&(i=n.split(this.options.delimiter2),3===i.length&&(r.data.path=i[0],r.data.type=i[1],r.data.order=i[2]))),r},r.prototype.getPaths=function(t){n(this,t)},r.prototype.setStatus=function(t,e){var n;n="default"==t.data.path?this.$control.find('option[data-path="'+t.data.path+'"]'):this.$control.find('option[data-path="'+t.data.path+'"][data-type="'+t.data.type+'"][data-order="'+t.data.order+'"]'),0<n.length&&(n.get(0).selected=!0)},jQuery.fn.jplist.ui.controls.SortSelect=function(t){return new r(t)},jQuery.fn.jplist.controlTypes["sort-select"]={className:"SortSelect",options:{}}}(),function(){var t=function(t){var e=[];return jQuery.each(t.get(0).attributes,function(t,n){-1!==n.name.indexOf("data-path-")&&e.push(n.value)}),e},e=function(e,n){var i,r,o=null;return n?(o=e.$control.find('li:has(span[data-default="true"])').eq(0),0>=o.length&&(o=e.$control.find("li:eq(0)"))):o=e.$control.find(".active"),o=o.find("span"),i=e.$control.attr("data-datetime-format")||"",r=e.$control.attr("data-ignore")||"",o=new jQuery.fn.jplist.ui.controls.DropdownSortDTO(o.attr("data-path"),o.attr("data-type"),o.attr("data-order"),i,r,t(o)),o=new jQuery.fn.jplist.app.dto.StatusDTO(e.name,e.action,e.type,o,e.inStorage,e.inAnimation,e.isAnimateToTop,e.inDeepLinking)},n=function(t,e){t.$control.find("span").each(function(){var t,n;t=jQuery(this).attr("data-path"),n=jQuery(this).attr("data-type"),t&&""!==jQuery.trim(t)&&(t=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(t,n),e.push(t))})},i=function(n){n.$control.find("li").off("click").on("click",function(){var i,r,o;i=e(n,!1),o=jQuery(this).find("span"),(r=o.attr("data-path"))&&(i.data.path=r,i.data.type=o.attr("data-type"),i.data.order=o.attr("data-order"),i.data.additionalPaths=t(o)),n.observer.trigger(n.observer.events.statusChanged,[i])})},r=function(t){return new jQuery.fn.jplist.ui.panel.DropdownControl(t.options,t.observer,t.history,t.$control),i(t),jQuery.extend(this,t)};r.prototype.getStatus=function(t){return e(this,t)},r.prototype.getDeepLink=function(){var t,n="";return this.inDeepLinking&&(t=e(this,!1),t.data&&t.data.path&&t.data.type&&t.data.order&&(n=this.name+this.options.delimiter0+"path"+this.options.delimiter2+"type"+this.options.delimiter2+"order="+t.data.path+this.options.delimiter2+t.data.type+this.options.delimiter2+t.data.order)),n},r.prototype.getStatusByDeepLink=function(t,n){var i;t:{i=null;var r;if(this.inDeepLinking){if("number"!==t&&t!=="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&"path"!==t){i=null;break t}i=e(this,!0),i.data&&t==="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&(r=n.split(this.options.delimiter2),3===r.length&&(i.data.path=r[0],i.data.type=r[1],i.data.order=r[2]))}}return i},r.prototype.getPaths=function(t){n(this,t)},r.prototype.setStatus=function(t,e){var n,i;i=this.$control.find("li"),i.removeClass("active"),n="default"==t.data.path?this.$control.find('li:has([data-path="default"])'):this.$control.find('li:has([data-path="'+t.data.path+'"][data-type="'+t.data.type+'"][data-order="'+t.data.order+'"])'),0>=n.length&&(n=i.eq(0)),n.addClass("active"),this.$control.find(".jplist-dd-panel").text(n.eq(0).text())},jQuery.fn.jplist.ui.controls.SortDropdown=function(t){return new r(t)},jQuery.fn.jplist.controlTypes["sort-drop-down"]={className:"SortDropdown",options:{},dropdown:!0}}(),function(){jQuery.fn.jplist.ui.controls.DropdownSortDTO=function(t,e,n,i,r,o){return{path:t,type:e,order:n,dateTimeFormat:i,ignore:r,additionalPaths:o}}}(),function(){jQuery.fn.jplist.ui.controls.TextboxDTO=function(t,e,n,i){return{path:t,ignore:n,value:e,mode:i,filterType:"TextFilter"}}}(),function(){var t=function(t,e){var n,i;return n=t.$control.attr("data-path"),i=e?t.$control.attr("value")||"":t.$control.val(),n=new jQuery.fn.jplist.ui.controls.TextboxDTO(n,i,t.params.ignore,t.params.mode),new jQuery.fn.jplist.app.dto.StatusDTO(t.name,t.action,t.type,n,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},e=function(e){e.params.$button&&0<e.params.$button.length?e.params.$button.on("click",function(n){return n.preventDefault(),e.history.addStatus(t(e,!1)),e.observer.trigger(e.observer.events.unknownStatusesChanged,[!1]),!1}):e.$control.on(e.params.eventName,function(){e.history.addStatus(t(e,!1)),e.observer.trigger(e.observer.events.unknownStatusesChanged,[!1])})},n=function(t){return t.params={path:t.$control.attr("data-path"),dataButton:t.$control.attr("data-button"),mode:t.$control.attr("data-mode")||"contains",ignore:t.$control.attr("data-ignore")||"[~!@#$%^&*()+=`'\"/\\_]+",eventName:t.$control.attr("data-event-name")||"keyup",$button:null},t.$control.val(t.$control.attr("value")||""),t.params.dataButton&&(t.params.$button=jQuery(t.params.dataButton)),e(t),jQuery.extend(this,t)};n.prototype.getStatus=function(e){return t(this,e)},n.prototype.getDeepLink=function(){var e,n="";return this.inDeepLinking&&(e=t(this,!1),e.data&&""!==jQuery.trim(e.data.value)&&(n=this.name+this.options.delimiter0+"value="+e.data.value)),n},n.prototype.getStatusByDeepLink=function(e,n){var i=null;return this.inDeepLinking&&(i=t(this,!0),i.data&&"value"===e&&(i.data.value=n)),i},n.prototype.getPaths=function(t){var e;e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(this.params.path,null),t.push(e)},n.prototype.setStatus=function(t,e){t.data&&(t.data.value||(t.data.value=""),this.$control.val(t.data.value))},jQuery.fn.jplist.ui.controls.Textbox=function(t){return new n(t)},jQuery.fn.jplist.controlTypes.textbox={className:"Textbox",options:{}}}(),function(){var t=function(t){return jQuery.extend(this,t)};t.prototype.setStatus=function(t,e){var n,i;n=t.data.paging,!n||0>=n.pagesNumber?(this.$control.html(""),this.$control.addClass("jplist-empty")):(this.$control.removeClass("jplist-empty"),i=this.$control.attr("data-type"),i=i.replace("{current}",n.currentPage+1),i=i.replace("{pages}",n.pagesNumber),i=i.replace("{start}",n.start+1),i=i.replace("{end}",n.end),i=i.replace("{all}",n.itemsNumber),this.$control.html(i))},jQuery.fn.jplist.ui.controls.PaginationInfo=function(e){return new t(e)},jQuery.fn.jplist.controlTypes["pagination-info"]={className:"PaginationInfo",options:{}}}(),function(){var t=function(t,e){var n;n=null;var i;return i=!1,n=t.$control.find("button[data-active]").eq(0),0>=n.length&&(n=t.$control.find("button").eq(0)),n=e?0:Number(n.attr("data-number"))||0,(i="true"===t.$control.attr("data-jump-to-start")||t.controlOptions.jumpToStart)&&(i=t.history.getLastStatus())&&"pagination"!==i.type&&"views"!==i.type&&(n=0),i=Number(t.$control.attr("data-items-per-page"))||0,n=new jQuery.fn.jplist.ui.controls.PaginationDTO(n,i),n=new jQuery.fn.jplist.app.dto.StatusDTO(t.name,t.action,t.type,n,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},e=function(e){e.$control.on("click","button",function(){var n,i=null;n=jQuery(this);var r;n=Number(n.attr("data-number"))||0,i=t(e,!1),i.data.currentPage=n,r=e.$root.find('[data-control-type="pagination"]'),r.find("button").removeAttr("data-active"),r.find('button[data-number="'+n+'"]').each(function(){jQuery(this).attr("data-active",!0)}),e.observer.trigger(e.observer.events.statusChanged,[i])})},n=function(t){return t.params={view:new jQuery.fn.jplist.ui.controls.PaginationView(t.$control,t.controlOptions)},e(t),jQuery.extend(this,t)};n.prototype.getStatus=function(e){return t(this,e)},n.prototype.getDeepLink=function(){var e,n="";return this.inDeepLinking&&(e=t(this,!1),e.data&&(jQuery.isNumeric(e.data.currentPage)&&(n=this.name+this.options.delimiter0+"currentPage="+e.data.currentPage),jQuery.isNumeric(e.data.number)&&(n&&(n+=this.options.delimiter1),n+=this.name+this.options.delimiter0+"number="+e.data.number))),n},n.prototype.getStatusByDeepLink=function(e,n){var i;t:if(i=null,this.inDeepLinking){if("currentPage"!==e){i=null;break t}i=t(this,!0),i.data&&"currentPage"===e&&(i.data.currentPage=n)}return i},n.prototype.setStatus=function(t,e){t.data&&t.data.paging&&this.params.view.build(t.data.paging)},jQuery.fn.jplist.ui.controls.Pagination=function(t){return new n(t)},jQuery.fn.jplist.controlTypes.pagination={className:"Pagination",options:{}}}(),function(){var t=function(t,e,n){var i;i='<div class="jplist-pagesbox" data-type="pagesbox">';for(var r=t;r<e;r++)i+='<button type="button" data-type="page" ',r===n&&(i+=' class="jplist-current" data-active="true" '),t=r+1,i+=' data-number="'+r+'" ',i+=">"+t+"</button> ";return i+"</div>"},e=function(t,e){
var n,i,r,o,a={$control:t,options:e,$pagingprev:null,$pagingmid:null,$pagingnext:null,$jplistFirst:null,$jplistPrev:null,$jplistNext:null,$jplistLast:null,mode:t.attr("data-mode")};return n=a.$control.attr("data-prev")||a.options.prevArrow,i=a.$control.attr("data-next")||a.options.nextArrow,r=a.$control.attr("data-first")||a.options.firstArrow,o=a.$control.attr("data-last")||a.options.lastArrow,a.$control.html('<div class="jplist-pagingprev" data-type="pagingprev"></div><div class="jplist-pagingmid" data-type="pagingmid"></div><div class="jplist-pagingnext" data-type="pagingnext"></div>'),a.$pagingprev=a.$control.find('[data-type="pagingprev"]'),a.$pagingmid=a.$control.find('[data-type="pagingmid"]'),a.$pagingnext=a.$control.find('[data-type="pagingnext"]'),a.$pagingprev.html('<button type="button" class="jplist-first" data-number="0" data-type="first">'+r+'</button><button type="button" class="jplist-prev" data-type="prev">'+n+"</button>"),a.$pagingnext.html('<button type="button" class="jplist-next" data-type="next">'+i+'</button><button type="button" class="jplist-last" data-type="last">'+o+"</button>"),a.$jplistFirst=a.$pagingprev.find('[data-type="first"]'),a.$jplistPrev=a.$pagingprev.find('[data-type="prev"]'),a.$jplistNext=a.$pagingnext.find('[data-type="next"]'),a.$jplistLast=a.$pagingnext.find('[data-type="last"]'),jQuery.extend(this,a)};e.prototype.build=function(e){if(0<=e.currentPage&&e.currentPage<e.pagesNumber){switch(this.$control.removeClass("jplist-hidden"),this.mode){case"google-like":var n,i="";n=Number(this.$control.attr("data-range"))||this.options.range,i=e.currentPage-Math.floor((n-1)/2),0>i&&(i=0),n=i+n,n>e.pagesNumber&&(n=e.pagesNumber),i=t(i,n,e.currentPage),this.$pagingmid.html(i);break;default:var r;r=Number(this.$control.attr("data-range"))||this.options.range,n=Math.floor(e.currentPage/r),i=r*(n+1),i>e.pagesNumber&&(i=e.pagesNumber),i=t(r*n,i,e.currentPage),this.$pagingmid.html(i)}this.$jplistPrev.attr("data-number",e.prevPage).removeClass("jplist-current"),this.$jplistNext.attr("data-number",e.nextPage).removeClass("jplist-current"),this.$jplistLast.attr("data-number",e.pagesNumber-1).removeClass("jplist-current"),1>=e.pagesNumber?this.$control.addClass("jplist-one-page"):this.$control.removeClass("jplist-one-page")}else this.$control.addClass("jplist-hidden");0===e.currentPage?this.$pagingprev.addClass("jplist-hidden"):this.$pagingprev.removeClass("jplist-hidden"),e.currentPage==e.pagesNumber-1?this.$pagingnext.addClass("jplist-hidden"):this.$pagingnext.removeClass("jplist-hidden")},jQuery.fn.jplist.ui.controls.PaginationView=function(t,n){return new e(t,n)},jQuery.fn.jplist.controlTypes.pagination={className:"Pagination",options:{range:7,jumpToStart:!1,prevArrow:"&lsaquo;",nextArrow:"&rsaquo;",firstArrow:"&laquo;",lastArrow:"&raquo;"}}}(),function(){jQuery.fn.jplist.ui.controls.PaginationDTO=function(t,e){var n={currentPage:t,paging:null};return e&&(n.number=e),n}}(),function(){var t=function(t,e){var n=null;return e?(n=t.$control.find('li:has(span[data-default="true"])').eq(0),0>=n.length&&(n=t.$control.find("li:eq(0)"))):n=t.$control.find(".active"),n=n.find("span"),n=new jQuery.fn.jplist.ui.controls.DropdownPaginationDTO(n.attr("data-number")),n=new jQuery.fn.jplist.app.dto.StatusDTO(t.name,t.action,t.type,n,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},e=function(t,e){var n,i,r;t.$control.find("span").each(function(){n=jQuery(this).attr("data-path"),i=jQuery(this).attr("data-type"),n&&""!==jQuery.trim(n)&&(r=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(n,i),e.push(r))})},n=function(e){e.$control.find("li").off().on("click",function(){var n,i,r,o;n=t(e,!1),o=jQuery(this).find("span"),i=o.attr("data-path"),r=o.attr("data-number"),i?(n.data.path=i,n.data.type=o.attr("data-type"),n.data.order=o.attr("data-order")):r&&(n.data.number=r),e.observer.trigger(e.observer.events.statusChanged,[n])})},i=function(t){return new jQuery.fn.jplist.ui.panel.DropdownControl(t.options,t.observer,t.history,t.$control),n(t),jQuery.extend(this,t)};i.prototype.getStatus=function(e){return t(this,e)},i.prototype.getDeepLink=function(){var e,n="";return this.inDeepLinking&&(e=t(this,!1),e.data&&(jQuery.isNumeric(e.data.number)||"all"===e.data.number)&&(n=this.name+this.options.delimiter0+"number="+e.data.number)),n},i.prototype.getStatusByDeepLink=function(e,n){var i;t:if(i=null,this.inDeepLinking){if("number"!==e&&e!=="path"+this.options.delimiter2+"type"+this.options.delimiter2+"order"&&"path"!==e){i=null;break t}i=t(this,!0),i.data&&"number"===e&&jQuery.isNumeric(i.data.number)&&(i.data.number=n)}return i},i.prototype.getPaths=function(t){e(this,t)},i.prototype.setStatus=function(t,e){var n,i;i=this.$control.find("li"),i.removeClass("active"),n=this.$control.find('li:has([data-number="'+t.data.number+'"])'),0===n.length&&(n=this.$control.find('li:has([data-number="all"])')),0>=n.length&&(n=i.eq(0)),n.addClass("active"),this.$control.find(".jplist-dd-panel").text(n.eq(0).text())},jQuery.fn.jplist.ui.controls.ItemsPerPageDropdown=function(t){return new i(t)},jQuery.fn.jplist.controlTypes["items-per-page-drop-down"]={className:"ItemsPerPageDropdown",options:{},dropdown:!0}}(),function(){var t=function(t,e){var n;return n=null,e?(n=t.$control.find('option[data-default="true"]').eq(0),0>=n.length&&(n=t.$control.find("option").eq(0))):n=t.$control.find("option:selected"),n=new jQuery.fn.jplist.ui.controls.DropdownPaginationDTO(n.attr("data-number")),n=new jQuery.fn.jplist.app.dto.StatusDTO(t.name,t.action,t.type,n,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},e=function(t,e){var n,i,r;t.$control.find("option").each(function(){n=jQuery(this).attr("data-path"),i=jQuery(this).attr("data-type"),n&&(r=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(n,i),e.push(r))})},n=function(e){e.$control.change(function(){var n,i,r;n=t(e,!1),i=jQuery(this).find("option:selected"),r=i.attr("data-path"),i=i.attr("data-number"),r?(n.data.path=r,n.data.type=jQuery(this).attr("data-type"),n.data.order=jQuery(this).attr("data-order")):i&&(n.data.number=i),e.observer.trigger(e.observer.events.statusChanged,[n])})},i=function(t){return n(t),jQuery.extend(this,t)};i.prototype.getStatus=function(e){return t(this,e)},i.prototype.getDeepLink=function(){var e,n="";return this.inDeepLinking&&(e=t(this,!1),e.data&&jQuery.isNumeric(e.data.number)&&(n=this.name+this.options.delimiter0+"number="+e.data.number)),n},i.prototype.getStatusByDeepLink=function(e,n){var i=null;return this.inDeepLinking&&(i=t(this,!0),i.data&&"number"===e&&jQuery.isNumeric(i.data.number)&&(i.data.number=n)),i},i.prototype.getPaths=function(t){e(this,t)},i.prototype.setStatus=function(t,e){var n;n=this.$control.find('option[data-number="'+t.data.number+'"]'),0===n.length&&(n=this.$control.find('option[data-number="all"]')),n.get(0).selected=!0},jQuery.fn.jplist.ui.controls.ItemsPerPageSelect=function(t){return new i(t)},jQuery.fn.jplist.controlTypes["items-per-page-select"]={className:"ItemsPerPageSelect",options:{}}}(),function(){jQuery.fn.jplist.ui.controls.DropdownPaginationDTO=function(t){return{number:t}}}(),function(){var t=function(t){!t.history.statusesQueue||0>=t.history.statusesQueue.length?t.$control.addClass("jplist-disabled"):t.$control.removeClass("jplist-disabled")},e=function(e){e.observer.on(e.observer.events.unknownStatusesChanged,function(){t(e)}),e.observer.on(e.observer.events.knownStatusesChanged,function(){t(e)}),e.$control.on("click",function(){var n,i,r;if(e.history.popStatus(),e.history.popList(),n=e.history.getLastStatus(),r=e.history.getLastList()||[],n){for(var o=0;o<r.length;o++)if(i=r[o],i.name===n.name&&i.action===n.action){if(i.data)for(var a in i.data)jQuery.isArray(i.data[a])&&(i.data[a]=[]);jQuery.extend(!0,i,n),r[o]=i}e.observer.trigger(e.observer.events.knownStatusesChanged,[r])}else e.observer.trigger(e.observer.events.unknownStatusesChanged,[!0]);t(e)})},n=function(n){return t(n),e(n),jQuery.extend(this,n)};jQuery.fn.jplist.ui.controls.BackButton=function(t){return new n(t)},jQuery.fn.jplist.controlTypes["back-button"]={className:"BackButton",options:{}}}(),function(){var t=function(t){t.$control.on("click",function(){t.observer.trigger(t.observer.events.unknownStatusesChanged,[!0])})},e=function(e){return t(e),jQuery.extend(this,e)};jQuery.fn.jplist.ui.controls.Reset=function(t){return new e(t)},jQuery.fn.jplist.controlTypes.reset={className:"Reset",options:{}}}(),function(){var t=function(t,e){var n,i,r,o,a=[];return n=t.$control.data("storage-status"),e&&n||t.params.$buttons.each(function(t,n){i=jQuery(n),(o=e?"true"===i.attr("data-selected"):i.data("selected")||!1)&&(r=i.attr("data-path"))&&a.push(r)}),n=new jQuery.fn.jplist.app.dto.StatusDTO(t.name,t.action,t.type,{pathGroup:a,filterType:"pathGroup"},t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},e=function(t,e){var n,i;t.params.$buttons.each(function(t,r){(n=jQuery(r).attr("data-path"))&&(i=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(n,"text"),e.push(i))})},n=function(t,e,n){var i;if(t.params.$buttons.each(function(t,e){i=jQuery(e),i.removeClass("jplist-selected"),i.data("selected",!1)}),e.data&&e.data.pathGroup&&jQuery.isArray(e.data.pathGroup)&&0<e.data.pathGroup.length)for(var r=0;r<e.data.pathGroup.length;r++)n=e.data.pathGroup[r],i=t.params.$buttons.filter('[data-path="'+n+'"]'),0<i.length&&(i.addClass("jplist-selected"),i.data("selected",!0))},i=function(e){e.params.$buttons.on("click",function(){var n,i;n=jQuery(this),"multiple"===e.params.mode?(i=n.data("selected")||!1,n.data("selected",!i)):(e.params.$buttons.data("selected",!1),n.data("selected",!0)),e.history.addStatus(t(e,!1)),e.observer.trigger(e.observer.events.unknownStatusesChanged,[!1])})},r=function(t){var e;"multiple"===t.params.mode?t.params.$buttons.each(function(){var e,n=jQuery(this);e="true"===n.attr("data-selected"),t.options.deepLinking&&(e=!1),n.data("selected",e)}):(t.params.$buttons.data("selected",!1),e=t.params.$buttons.filter('[data-selected="true"]'),e=0<e.length?e.eq(0):t.params.$buttons.eq(0),e.data("selected",!0),e.attr("data-selected",!0),e.trigger("click"))},o=function(t){return t.params={$buttons:t.$control.find("[data-button]"),mode:t.$control.attr("data-mode")||"multiple"},i(t),r(t),jQuery.extend(this,t)};o.prototype.getStatus=function(e){return t(this,e)},o.prototype.getDeepLink=function(){var e,n="",i="";if(this.inDeepLinking&&(e=t(this,!1),e.data&&e.data.pathGroup&&0<e.data.pathGroup.length)){for(var r=0;r<e.data.pathGroup.length;r++)n=e.data.pathGroup[r],0<r&&(i+=this.options.delimiter2),i+=n;n=this.name+this.options.delimiter0+"selected="+i}return n},o.prototype.getStatusByDeepLink=function(e,n){var i=null;return this.inDeepLinking&&(i=t(this,!1),i.data&&"selected"===e&&(i.data.pathGroup=n.split(this.options.delimiter2))),i},o.prototype.getPaths=function(t){e(this,t)},o.prototype.setStatus=function(t,e){n(this,t,e)},jQuery.fn.jplist.ui.controls.ButtonFilterGroup=function(t){return new o(t)},jQuery.fn.jplist.controlTypes["button-filter-group"]={className:"ButtonFilterGroup",options:{}}}(),function(){var t=function(t,e){var n,i="";return(n=e?"true"===t.$control.attr("data-selected"):t.params.selected)&&(i="path"),n={path:t.$control.attr("data-path"),filterType:i,selected:n},new jQuery.fn.jplist.app.dto.StatusDTO(t.name,t.action,t.type,n,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},e=function(e){e.$control.on("click",function(){e.params.selected=!e.params.selected,e.history.addStatus(t(e,!1)),e.observer.trigger(e.observer.events.unknownStatusesChanged,[!1])})},n=function(t){return t.params={selected:"true"===t.$control.attr("data-selected")},t.options.deepLinking&&(t.params.selected=!1),e(t),jQuery.extend(this,t)};n.prototype.getStatus=function(e){return t(this,e)},n.prototype.getDeepLink=function(){var e="",n=null;return this.inDeepLinking&&(n=t(this,!1),n.data&&n.data.selected&&(e=this.name+this.options.delimiter0+"selected=true")),e},n.prototype.getStatusByDeepLink=function(e,n){var i,r=null;return this.inDeepLinking&&(r=t(this,!1),r.data&&(i="selected"===e&&"true"===n))&&(r.data.selected=i,r.data.filterType="path"),r},n.prototype.getPaths=function(t){var e;(e=this.$control.attr("data-path"))&&(e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(e,"text"),t.push(e))},n.prototype.setStatus=function(t,e){(this.params.selected=t.data.selected)?this.$control.addClass("jplist-selected"):this.$control.removeClass("jplist-selected")},jQuery.fn.jplist.ui.controls.ButtonFilter=function(t){return new n(t)},jQuery.fn.jplist.controlTypes["button-filter"]={className:"ButtonFilter",options:{}}}(),function(){jQuery.fn.jplist.ui.controls.ButtonTextFilterDTO=function(t,e,n,i,r){return{path:t,ignore:n,value:e,selected:i,mode:r,filterType:"TextFilter"}}}(),function(){jQuery.fn.jplist.ui.controls.ButtonTextFilterGroupDTO=function(t,e){return{textAndPathsGroup:t,ignore:e,filterType:"textFilterPathGroup"}}}(),function(){var t=function(t,e){var n,i=[];return n=null,n="",t.controlOptions&&t.controlOptions.ignore&&(n=t.controlOptions.ignore),t.params.$buttons.each(function(t,n){var r,o=jQuery(n);r=e?"true"===o.attr("data-selected"):o.data("selected")||!1,i.push({selected:r,text:o.data("dataText"),path:o.data("dataPath"),mode:o.data("dataMode")||"contains"})}),n=new jQuery.fn.jplist.ui.controls.ButtonTextFilterGroupDTO(i,n),n=new jQuery.fn.jplist.app.dto.StatusDTO(t.name,t.action,t.type,n,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},e=function(t,e){var n,i,r;t.params.$buttons.each(function(t,o){n=jQuery(this),(i=n.attr("data-path"))&&(r=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(i,"text"),e.push(r))})},n=function(t,e,n){var i;if(t.params.$buttons.each(function(t,e){i=jQuery(e),i.removeClass("jplist-selected"),i.data("selected",!1)}),e.data&&e.data.textAndPathsGroup&&jQuery.isArray(e.data.textAndPathsGroup)&&0<e.data.textAndPathsGroup.length)for(var r=0;r<e.data.textAndPathsGroup.length;r++)n=e.data.textAndPathsGroup[r],i=t.params.$buttons.filter('[data-path="'+n.path+'"][data-text="'+n.text+'"]'),0<i.length&&n.selected&&(i.addClass("jplist-selected"),i.data("selected",!0))},i=function(e){var n;e.params.$buttons.on("click",function(){var i=jQuery(this);n=i.data("selected")||!1,i.data("selected",!n),e.history.addStatus(t(e,!1)),e.observer.trigger(e.observer.events.unknownStatusesChanged,[!1])})},r=function(t){return t.params={$buttons:t.$control.find("[data-button]")},t.params.$buttons.each(function(){var e,n=jQuery(this);e="true"===n.attr("data-selected"),t.options.deepLinking&&(e=!1),n.data("selected",e),n.data("dataPath",n.attr("data-path")),n.data("dataText",n.attr("data-text")),n.data("dataMode",n.attr("data-mode")||"contains")}),i(t),jQuery.extend(this,t)};r.prototype.getStatus=function(e){return t(this,e)},r.prototype.getDeepLink=function(){var e,n,i="",r=[];if(this.inDeepLinking&&(e=t(this,!1),e.data&&e.data.textAndPathsGroup&&0<e.data.textAndPathsGroup.length)){for(var o=0;o<e.data.textAndPathsGroup.length;o++)n=e.data.textAndPathsGroup[o],n.selected&&r.push(n.text+this.options.delimiter3+n.path);0<r.length&&(i=this.name+this.options.delimiter0+"selected="+r.join(this.options.delimiter2))}return i},r.prototype.getStatusByDeepLink=function(e,n){var i,r,o=null;if(this.inDeepLinking&&(o=t(this,!1),o.data&&"selected"===e)){o.data.textAndPathsGroup=[],i=n.split(this.options.delimiter2);for(var a=0;a<i.length;a++)r=i[a].split(this.options.delimiter3),2===r.length&&o.data.textAndPathsGroup.push({selected:!0,text:r[0],path:r[1]})}return o},r.prototype.getPaths=function(t){e(this,t)},r.prototype.setStatus=function(t,e){n(this,t,e)},jQuery.fn.jplist.ui.controls.ButtonTextFilterGroup=function(t){return new r(t)},jQuery.fn.jplist.controlTypes["button-text-filter-group"]={className:"ButtonTextFilterGroup",options:{ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}}}(),function(){var t=function(t,e){var n;n=null;var i="",r="";return t.controlOptions&&t.controlOptions.ignore&&(i=t.controlOptions.ignore),r=(n=e?"true"===t.$control.attr("data-selected"):t.params.selected)?t.params.dataText:"",n=new jQuery.fn.jplist.ui.controls.ButtonTextFilterDTO(t.params.dataPath,r,i,n,t.params.dataMode||"contains"),n=new jQuery.fn.jplist.app.dto.StatusDTO(t.name,t.action,t.type,n,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},e=function(e){e.$control.on("click",function(){e.params.selected=!e.params.selected,e.history.addStatus(t(e,!1)),e.observer.trigger(e.observer.events.unknownStatusesChanged,[!1])})},n=function(t){return t.params={selected:"true"===t.$control.attr("data-selected"),dataPath:t.$control.attr("data-path"),dataText:t.$control.attr("data-text"),dataMode:t.$control.attr("data-mode")},t.options.deepLinking&&(t.params.selected=!1),e(t),jQuery.extend(this,t)};n.prototype.getStatus=function(e){return t(this,e)},n.prototype.getDeepLink=function(){var e,n="";return this.inDeepLinking&&(e=t(this,!1),e.data&&e.data.selected&&(n=this.name+this.options.delimiter0+"selected=true")),n},n.prototype.getStatusByDeepLink=function(e,n){var i,r=null;return this.inDeepLinking&&(r=t(this,!1),r.data&&(i="selected"===e&&"true"===n))&&(r.data.selected=i,r.data.value=this.params.dataText),r},n.prototype.getPaths=function(t){var e;this.params.dataPath&&(e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(this.params.dataPath,"text"),t.push(e))},n.prototype.setStatus=function(t,e){(this.params.selected=t.data.selected)?this.$control.addClass("jplist-selected"):this.$control.removeClass("jplist-selected")},jQuery.fn.jplist.ui.controls.ButtonTextFilter=function(t){return new n(t)},jQuery.fn.jplist.controlTypes["button-text-filter"]={className:"ButtonTextFilter",options:{ignore:"[~!@#$%^&*()+=`'\"/\\_]+"}}}(),function(){jQuery.fn.jplist.ui.controls.CheckboxGroupFilterDTO=function(t){return{pathGroup:t,filterType:"pathGroup"}}}(),function(){var t=function(t,e){var n,i=[];n=null;var r;return t.params.$checkboxes.each(function(t,n){var o=jQuery(n);r=e?o.data("selected-on-start")||!1:o.get(0).checked,o=o.attr("data-path"),r&&o&&i.push(o)}),n=new jQuery.fn.jplist.ui.controls.CheckboxGroupFilterDTO(i),n=new jQuery.fn.jplist.app.dto.StatusDTO(t.name,t.action,t.type,n,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},e=function(t,e){t.params.$checkboxes.each(function(t,n){var i;(i=jQuery(this).attr("data-path"))&&(i=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(i,"text"),e.push(i))})},n=function(t,e,n){var i;if(t.params.$checkboxes.each(function(t,e){i=jQuery(e),i.removeClass("jplist-selected"),i.get(0).checked=!1}),e.data&&e.data.pathGroup&&jQuery.isArray(e.data.pathGroup)&&0<e.data.pathGroup.length)for(var r=0;r<e.data.pathGroup.length;r++)n=e.data.pathGroup[r],i=t.params.$checkboxes.filter('[data-path="'+n+'"]'),0<i.length&&(i.addClass("jplist-selected"),i.get(0).checked=!0)},i=function(e){e.params.$checkboxes.on("change",function(){e.history.addStatus(t(e,!1)),e.observer.trigger(e.observer.events.unknownStatusesChanged,[!1])})},r=function(t){return t.params={$checkboxes:t.$control.find("[data-path]")},t.params.$checkboxes.each(function(){var e,n=jQuery(this);e=n.get(0).checked,t.options.deepLinking&&(e=!1),n.data("selected-on-start",e),n.data("mode",n.attr("data-mode")||"contains")}),i(t),jQuery.extend(this,t)};r.prototype.getStatus=function(e){return t(this,e)},r.prototype.getDeepLink=function(){var e,n="",i="";if(this.inDeepLinking&&(e=t(this,!1),e.data&&jQuery.isArray(e.data.pathGroup)&&0<e.data.pathGroup.length)){for(n=0;n<e.data.pathGroup.length;n++)""!==i&&(i+=this.options.delimiter2),i+=e.data.pathGroup[n];n=this.name+this.options.delimiter0+"pathGroup="+i}return n},r.prototype.getStatusByDeepLink=function(e,n){var i,r=null;return this.inDeepLinking&&(r=t(this,!0),r.data&&"pathGroup"===e&&(i=n.split(this.options.delimiter2),0<i.length&&(r.data.pathGroup=i))),r},r.prototype.getPaths=function(t){e(this,t)},r.prototype.setStatus=function(t,e){n(this,t,e)},jQuery.fn.jplist.ui.controls.CheckboxGroupFilter=function(t){return new r(t)},jQuery.fn.jplist.controlTypes["checkbox-group-filter"]={className:"CheckboxGroupFilter",options:{}}}(),function(){jQuery.fn.jplist.ui.controls.CheckboxTextFilterDTO=function(t,e,n,i,r){return{textGroup:t,logic:e,path:n,ignoreRegex:i,mode:r,filterType:"textGroup"}}}(),function(){var t=function(t,e){var n,i=[];n=null;var r;return t.params.$checkboxes.each(function(t,n){var o=jQuery(n);r=e?o.data("selected-on-start")||!1:o.get(0).checked,(o=o.val())&&r&&i.push(o)}),n=new jQuery.fn.jplist.ui.controls.CheckboxTextFilterDTO(i,t.params.dataLogic,t.params.dataPath,t.params.ignore),n=new jQuery.fn.jplist.app.dto.StatusDTO(t.name,t.action,t.type,n,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},e=function(t,e,n){var i;if(t.params.$checkboxes.each(function(t,e){i=jQuery(e),i.removeClass("jplist-selected"),i.get(0).checked=!1}),e.data&&e.data.textGroup&&jQuery.isArray(e.data.textGroup)&&0<e.data.textGroup.length)for(var r=0;r<e.data.textGroup.length;r++)n=e.data.textGroup[r],i=t.params.$checkboxes.filter('[value="'+n+'"]'),0<i.length&&(i.addClass("jplist-selected"),i.get(0).checked=!0)},n=function(e){e.params.$checkboxes.on("change",function(){e.history.addStatus(t(e,!1)),e.observer.trigger(e.observer.events.unknownStatusesChanged,[!1])})},i=function(t){return t.params={$checkboxes:t.$control.find('input[type="checkbox"]'),dataPath:t.$control.attr("data-path"),dataLogic:t.$control.attr("data-logic")||"or",ignore:""},t.controlOptions&&t.controlOptions.ignore&&(t.params.ignore=t.controlOptions.ignore),t.params.$checkboxes.each(function(){var e,n=jQuery(this);e=n.get(0).checked,t.options.deepLinking&&(e=!1),n.data("selected-on-start",e)}),n(t),jQuery.extend(this,t)};i.prototype.getStatus=function(e){return t(this,e)},i.prototype.getDeepLink=function(){var e,n="",i="";if(this.inDeepLinking&&(e=t(this,!1),e.data&&jQuery.isArray(e.data.textGroup)&&0<e.data.textGroup.length)){for(n=0;n<e.data.textGroup.length;n++)""!==i&&(i+=this.options.delimiter2),i+=e.data.textGroup[n];n=this.name+this.options.delimiter0+"textGroup="+i}return n},i.prototype.getStatusByDeepLink=function(e,n){var i,r=null;return this.inDeepLinking&&(r=t(this,!0),r.data&&"textGroup"===e&&(i=n.split(this.options.delimiter2),0<i.length&&(r.data.textGroup=i))),r},i.prototype.getPaths=function(t){var e;this.params.dataPath&&(e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(this.params.dataPath,"text"),t.push(e))},i.prototype.setStatus=function(t,n){e(this,t,n)},jQuery.fn.jplist.ui.controls.CheckboxTextFilter=function(t){return new i(t)},jQuery.fn.jplist.controlTypes["checkbox-text-filter"]={className:"CheckboxTextFilter",options:{ignore:""}}}(),function(){var t=function(t,e){var n,i=null;return n=e?t.params.initialSelected||!1:t.$control.get(0).checked,i={path:t.$control.attr("data-path"),type:"TextFilter",filterType:"path",selected:n},n||(i.filterType=""),i=new jQuery.fn.jplist.app.dto.StatusDTO(t.name,t.action,t.type,i,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},e=function(e){e.$control.on("change",function(){e.history.addStatus(t(e,!1)),e.observer.trigger(e.observer.events.unknownStatusesChanged,[!1])})},n=function(t){return t.params={initialSelected:t.$control.get(0).checked||!1},e(t),jQuery.extend(this,t)};n.prototype.getStatus=function(e){return t(this,e)},n.prototype.getDeepLink=function(){var e,n="";return this.inDeepLinking&&(e=t(this,!1),e.data&&e.data.selected&&(n=this.name+this.options.delimiter0+"selected=true")),n},n.prototype.getStatusByDeepLink=function(e,n){var i=null;return this.inDeepLinking&&(i=t(this,!0),i.data&&"selected"===e&&(i.data.selected=!0)),i},n.prototype.getPaths=function(t){var e;(e=this.$control.attr("data-path"))&&(e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(e,"text"),t.push(e))},n.prototype.setStatus=function(t,e){this.$control.get(0).checked=t.data.selected||!1},n.prototype.setByDeepLink=function(e){this.observer.trigger(this.observer.events.statusChanged,[t(this,!1)])},jQuery.fn.jplist.ui.controls.RadioButtonsFilter=function(t){return new n(t)},jQuery.fn.jplist.controlTypes["radio-buttons-filters"]={className:"RadioButtonsFilter",options:{}}}(),function(){var t=function(t,e){var n,i=null;return n=e?"true"===t.$control.attr("data-selected"):t.params.selected,t.params.path&&(n=n?{path:t.params.path,type:"number",filterType:"range",min:0,max:0,prev:t.params.prev,next:t.params.next,selected:n}:{path:t.params.path,filterType:"",selected:n},i=new jQuery.fn.jplist.app.dto.StatusDTO(t.name,t.action,t.type,n,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)),i},e=function(e){e.$control.on("click",function(){e.params.selected=!e.params.selected,e.history.addStatus(t(e,!1)),e.observer.trigger(e.observer.events.unknownStatusesChanged,[!1])})},n=function(t){return t.params={path:t.$control.attr("data-path"),prev:Number(t.$control.attr("data-min")),next:Number(t.$control.attr("data-max")),selected:"true"===t.$control.attr("data-selected")},e(t),jQuery.extend(this,t)};n.prototype.getStatus=function(e){return t(this,e)},n.prototype.getDeepLink=function(){var e,n="";return this.inDeepLinking&&(e=t(this,!1),e.data&&e.data.selected&&(n=this.name+this.options.delimiter0+"selected=true")),n},n.prototype.getStatusByDeepLink=function(e,n){var i=null;return this.inDeepLinking&&(i=t(this,!1),i.data&&"selected"===e&&"true"===n&&(i.data={path:this.params.path,type:"number",filterType:"range",min:0,max:0,prev:this.params.prev,next:this.params.next,selected:!0})),i},n.prototype.getPaths=function(t){var e;this.params.path&&(e=new jQuery.fn.jplist.domain.dom.models.DataItemMemberPathModel(this.params.path,"number"),t.push(e))},n.prototype.setStatus=function(t,e){this.inStorage&&e&&this.$control.data("storage-status",t),(this.params.selected=t.data.selected)?this.$control.addClass("jplist-selected"):this.$control.removeClass("jplist-selected")},jQuery.fn.jplist.ui.controls.RangeSliderToggleFilter=function(t){return new n(t)},jQuery.fn.jplist.controlTypes["range-filter"]={className:"RangeSliderToggleFilter",options:{}}}(),function(){jQuery.fn.jplist.ui.controls.ViewsDTO=function(t){this.view=t}}(),function(){var t=function(t,e){var n;return n=null,n=t.params.defaultView,n=e?t.params.defaultView:t.params.currentView,n=new jQuery.fn.jplist.ui.controls.ViewsDTO(n),n=new jQuery.fn.jplist.app.dto.StatusDTO(t.name,t.action,t.type,n,t.inStorage,t.inAnimation,t.isAnimateToTop,t.inDeepLinking)},e=function(e){e.params.$buttons.on("click",function(){var n=jQuery(this).attr("data-type");e.$root.removeClass(e.params.types.join(" ")).addClass(n),e.params.currentView=n,e.history.addStatus(t(e,!1)),e.observer.trigger(e.observer.events.unknownStatusesChanged,[!1])})},n=function(t){return t.params={$buttons:t.$control.find("[data-type]"),defaultView:t.$control.attr("data-default")||"list-view",currentView:t.$control.attr("data-default")||"list-view",types:[]},0<t.params.$buttons.length&&(t.params.$buttons.each(function(){var e=jQuery(this).attr("data-type");e&&t.params.types.push(e)}),e(t)),jQuery.extend(this,t)};n.prototype.getStatus=function(e){return t(this,e)},n.prototype.getDeepLink=function(){var e,n="";return this.inDeepLinking&&(e=t(this,!1),e.data&&(n=this.name+this.options.delimiter0+"view="+e.data.view)),n},n.prototype.getStatusByDeepLink=function(e,n){var i=null;return this.inDeepLinking&&(i=t(this,!0),i.data.view=n),i},n.prototype.setStatus=function(t,e){t.data&&(this.$root.removeClass(this.params.types.join(" ")),!this.inStorage&&e?(this.$root.addClass(this.params.defaultView),t.data.view=this.params.defaultView,this.params.currentView=this.params.defaultView,this.observer.trigger(this.observer.events.statusChanged,[t])):(this.$root.addClass(t.data.view),this.params.currentView=t.data.view))},jQuery.fn.jplist.ui.controls.Views=function(t){return new n(t)},jQuery.fn.jplist.controlTypes.views={className:"Views",options:{}}}();